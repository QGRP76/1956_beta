###########################
# Portuguese Events
###########################

add_namespace = portugal

#
# Ceuta events
#

# portugal Demand (Ceuta)
country_event = {
	id = portugal.1
	title = portugal.1.t
	desc = portugal.1.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept demands
		name = portugal.1.a
		ai_chance = { 
			base = 10
		}

		POR = { 
			transfer_state = 290
		}

		290 = { add_core_of = POR}
	
		hidden_effect = {
			news_event = { id = news.700 hours = 12 }
			POR = {
				country_event = { id = portugal.3 hours = 1 }
			}
		}
	}
	
	option = { # Refuse demands
		name = portugal.1.b
		ai_chance = { 
			base = 90
		}
		effect_tooltip = {
			POR = {
				create_wargoal = {
				type = take_state_focus
				target = SPR
				generator = { 290 }
				}
				create_wargoal = {
				type = take_state_focus
				target = D01
				generator = { 290 }
				}


				add_state_claim	= 290
			}
		}

		hidden_effect = {
			news_event = { id = news.701 hours = 12 }
			POR = {
				country_event = { id = portugal.2 hours = 1 }
			}
		}
	}
}


# POR: Spain Refuses Demands
country_event = {
	id = portugal.2
	title = portugal.2.t
	desc = portugal.2.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.2.o

		POR = {
		create_wargoal = {
			type = take_state
			target = SPR
			generator = { 290 }
		}
		create_wargoal = {
			type = take_state
			target = D01
			generator = { 290 }
		}
		add_state_claim	= 290
		}
	}
}

# POR: Spain Accept Demands
country_event = {
	id = portugal.3
	title = portugal.3.t
	desc = portugal.3.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.3.o

		effect_tooltip = {
		POR = { 
			transfer_state = 290
		}

		290 = { add_core_of = POR}
		}		
	}
}


# News Event: Spain Accepts Demands (Ceuta)
news_event = {
	id = news.700
	title = news.700.t
	desc = news.700.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.700.o
	}
}	

# News Event: Spain Refuses Demands (Ceuta)
news_event = {
	id = news.701
	title = news.701.t
	desc = news.701.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.701.o
	}
	
}

#
# Ceuta events END
#

#
# Rhodesia events
#

# portugal Demand (Rhodesia)
country_event = {
	id = portugal.4
	title = portugal.4.t
	desc = portugal.4.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept demands
		name = portugal.4.a
		ai_chance = { 
			base = 60
		}

		POR = { 
			transfer_state = 545
		}

		545 = { add_core_of = POR}
	
		hidden_effect = {
			news_event = { id = news.702 hours = 12 }
			POR = {
				country_event = { id = portugal.6 hours = 1 }
			}
		}
	}
	
	option = { # Refuse demands
		name = portugal.4.b
		ai_chance = { 
			base = 40
		}
		effect_tooltip = {
			POR = {
				create_wargoal = {
				type = take_state_focus
				target = ENG
				generator = { 545 }
				}

				add_state_claim	= 545
			}
		}

		hidden_effect = {
			news_event = { id = news.703 hours = 12 }
			POR = {
				country_event = { id = portugal.5 hours = 1 }
			}
		}
	}
}


# POR: United Kingdom Refuses Demands
country_event = {
	id = portugal.5
	title = portugal.5.t
	desc = portugal.5.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.5.o

		POR = {
		create_wargoal = {
			type = take_state
			target = ENG
			generator = { 545 }
		}
		add_state_claim	= 545
		}
	}
}

# POR: United Kingdom Accept Demands
country_event = {
	id = portugal.6
	title = portugal.6.t
	desc = portugal.6.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.6.o

		effect_tooltip = {
		POR = { 
			transfer_state = 545
		}

		545 = { add_core_of = POR}
		}		
	}
}


# News Event: United Kingdom Accepts Demands (Ceuta)
news_event = {
	id = news.702
	title = news.702.t
	desc = news.702.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.702.o
	}
}	

# News Event: United Kingdom Refuses Demands (Ceuta)
news_event = {
	id = news.703
	title = news.703.t
	desc = news.703.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.703.o
	}
	
}

#
# Rhodesia events END
#

#
# Join Allies
#

# ENG: portugal wants to join the allies
country_event = {
	id = portugal.30
	title = portugal.30.t
	desc = portugal.30.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept request
		name = portugal.30.a
		ai_chance = { 
			base = 90
		}

		add_to_faction = POR
	
		hidden_effect = {
			news_event = { id = news.704 hours = 12 }
			POR = {
				country_event = { id = portugal.32 hours = 1 }
			}
		}
	}
	
	option = { # Refuse request
		name = portugal.30.b
		ai_chance = { 
			base = 10 
		}


		hidden_effect = {
			news_event = { id = news.705 hours = 12}
			POR = {
				country_event = { id = portugal.31 hours = 1 }
			}
		}
	}
}


# POR: ENG Refuses Request
country_event = {
	id = portugal.31
	title = portugal.31.t
	desc = portugal.31.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.31.o	
	}
}

# POR: ENG Accepts Request
country_event = {
	id = portugal.32
	title = portugal.32.t
	desc = portugal.32.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.32.o
	}
}


# News Event: ENG Invite portugal to Faction
news_event = {
	id = news.704
	title = news.704.t
	desc = news.704.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.704.o
	}
}	

# News Event: ENG Refuses Faction Join Request
news_event = {
	id = news.705
	title = news.705.t
	desc = news.705.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.705.o
	}
}


#
# Join Allies END
#

	#
# Join Axis
#

# GER: portugal wants to join axis
country_event = {
	id = portugal.10
	title = portugal.10.t
	desc = portugal.10.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept request
		name = portugal.10.a
		ai_chance = { 
			base = 90 
		}

		add_to_faction = POR
	
		hidden_effect = {
			news_event = { id = news.706 hours = 12 }
			POR = {
				country_event = { id = portugal.12 hours = 1 }
			}
		}
	}
	
	option = { # Refuse request
		name = portugal.10.b
		ai_chance = { 
			base = 10 
		}


		hidden_effect = {
			news_event = { id = news.707 hours = 12}
			POR = {
				country_event = { id = portugal.11 hours = 1 }
			}
		}
	}
}


# POR: Germany Refuses Request
country_event = {
	id = portugal.11
	title = portugal.11.t
	desc = portugal.11.d
	picture = GFX_report_event_fascist_gathering
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.11.o	
	}
}

# POR: Germany Accepts Request
country_event = {
	id = portugal.12
	title = portugal.12.t
	desc = portugal.12.d
	picture = GFX_report_event_hitler_croatia_handshake
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.12.o
	}
}


# News Event: Germany Invite portugal to Axis
news_event = {
	id = news.706
	title = news.706.t
	desc = news.706.d
	picture = GFX_news_event_hitler_speech
	
	major = yes
	
	is_triggered_only = yes


	
	option = {
		name = news.706.o
	}
}	

# News Event: Germany Refuses Axis Join Request
news_event = {
	id = news.707
	title = news.707.t
	desc = news.707.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = news.707.o
	}
}


#
# Join Comintern
#

# SOV: portugal wants to join comintern
country_event = {
	id = portugal.20
	title = portugal.20.t
	desc = portugal.20.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = { # Accept request
		name = portugal.20.a
		ai_chance = { 
			base = 90 
		}

		add_to_faction = POR
	
		hidden_effect = {
			news_event = { id = news.708 hours = 12 }
			POR = {
				country_event = { id = portugal.22 hours = 1 }
			}
		}
	}
	
	option = { # Refuse request
		name = portugal.20.b
		ai_chance = { 
			base = 10 
		}


		hidden_effect = {
			news_event = { id = news.709 hours = 12}
			POR = {
				country_event = { id = portugal.21 hours = 1 }
			}
		}
	}
}


# POR: Soviet Refuses Request
country_event = {
	id = portugal.21
	title = portugal.21.t
	desc = portugal.21.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes
	
	option = {
		name = portugal.21.o	
	}
}

# POR: Soviet Accepts Request
country_event = {
	id = portugal.22
	title = portugal.22.t
	desc = portugal.22.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes
	
	option = {
		name = portugal.22.o
	}
}


# News Event: Soviet Invite portugal to Faction
news_event = {
	id = news.708
	title = news.708.t
	desc = news.708.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = news.708.o
	}
}	

# News Event: Soviet Refuses Faction Join Request
news_event = {
	id = news.709
	title = news.709.t
	desc = news.709.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = news.709.o
	}
}


#Portugal declares Spain friend.
news_event = {
	id = news.710
	title = news.710.t
	desc = news.710.d
	picture = GFX_news_event_generic_read_write

	major = yes

	is_triggered_only = yes

	fire_only_once = yes

	#Our nations stand together as friends.
	option = {
		name = news.710.a
		trigger = {
			OR = {
				tag = POR
				tag = SPR
			}
		}
	}

	#There will be peace in the Adriatic.
	option = {
		name = news.710.b
		trigger =  {
			NOT = {
				tag = POR
				tag = SPR
			}
			POR = {
				has_war = no
			}
		}
	}

	#It will be interesting to see where this ends.
	option = {
		name = news.710.c
		trigger =  {
			NOT = {
				tag = POR
				tag = SPR
			}
			POR = {
				has_war = yes
			}
		}
	}
}


# portugal Demand (Ceylon)
country_event = {
	id = portugal.40
	title = portugal.40.t
	desc = portugal.40.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = { # Accept demands
		name = portugal.40.a
		ai_chance = { 
			base = 90
		}

		POR = { 
			transfer_state = 422
		}
	
		hidden_effect = {
			news_event = { id = news.702 hours = 12 }
			POR = {
				country_event = { id = portugal.42 hours = 1 }
			}
		}
	}
	
	option = { # Refuse demands
		name = portugal.4.b
		ai_chance = { 
			base = 10
		}
		effect_tooltip = {
			POR = {
				create_wargoal = {
				type = take_state_focus
				target = ENG
				generator = { 422 }
				}

				add_state_claim	= 422
			}
		}

		hidden_effect = {
			news_event = { id = news.703 hours = 12 }
			POR = {
				country_event = { id = portugal.41 hours = 1 }
			}
		}
	}
}


# POR: United Kingdom Refuses Demands
country_event = {
	id = portugal.41
	title = portugal.41.t
	desc = portugal.41.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.41.o

		POR = {
		create_wargoal = {
			type = take_state
			target = ENG
			generator = { 422 }
		}
		add_state_claim	= 422
		}
	}
}

# POR: United Kingdom Accept Demands
country_event = {
	id = portugal.42
	title = portugal.42.t
	desc = portugal.42.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.42.o

		effect_tooltip = {
		POR = { 
			transfer_state = 422
		}

		422 = { add_core_of = POR}
		}		
	}
}


# News Event: United Kingdom Accepts Demands (Ceuta)
news_event = {
	id = news.711
	title = news.711.t
	desc = news.711.d
	picture = GFX_news_event_012
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.711.o
	}
}	

# News Event: United Kingdom Refuses Demands (Ceuta)
news_event = {
	id = news.712
	title = news.712.t
	desc = news.712.d
	picture = GFX_news_event_011
	
	major = yes
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = news.712.o
	}
	
}

#Fascist coup - Peaceful
country_event = {
	id = portugal.43
	title = portugal.43.t
	desc = portugal.43.d
	picture = GFX_report_event_generic_rally
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.43.a
		clr_country_flag = POR_expand_pro_monarchist_rally_flag
		set_politics = { ruling_party = fascism }
		add_political_power = 50
		add_war_support = 0.05
	}
}

#Fascist coup - Civil War
country_event = {
	id = portugal.44
	title = portugal.43.t
	desc = portugal.44.d
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.44.a
		clr_country_flag = POR_expand_pro_monarchist_rally_flag
		if = {
			limit = { 
				fascism > 0.54
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = neutrality
				keep_political_leader = no
				size = 0.44
				capital = 112
				states = { 179 112 795 698 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				180 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9817
						count = 1
					}
				}
				181 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 889 
						count = 1
					}
				}
				181 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 845
						count = 1
					}
				}
				181 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 938
						count = 1
					}
				}
				181 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 3969
						count = 1
					}
				}
				181 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11885
						count = 1
					}
				}
				112 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6924
						count = 1
					}
				}
				112 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 799
						count = 1
					}
				}
				112 = {
					create_unit = {
						division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 799
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					112 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 3
						}
					}
					795 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
						}
					}
					179 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
						}
					}
					if = {
						limit = {
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
			
			else_if = {
				limit = { 
					fascism > 0.48
				}
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.49
					capital = 112
					states = { 179 112 795 698 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 889 
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 938
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 3969
							count = 1
						}
					}
					112 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 6924
							count = 1
						}
					}
					112 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 799
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						795 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
							}
						}
						179 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 1
							}
						}
						if = {
							limit = {
								NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
							}
							540 = {
								create_unit = {
									division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
									owner = PREV
									count = 2
									prioritize_location = 8248
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = { 
					fascism > 0.42
				}
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.53
					capital = 112
					states = { 179 112 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 889 
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 938
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 3969
							count = 1
						}
					}
					112 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 6924
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 799
							}
						}
						112 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 1
								prioritize_location = 3798
							}
						}
						795 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						179 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
							}
						}
						if = {
							limit = {
								NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
							}
							540 = {
								create_unit = {
									division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
									owner = PREV
									count = 2
									prioritize_location = 8248
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = { 
					fascism > 0.37
				}
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.57
					capital = 112
					states = { 179 112 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 889 
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 938
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 3969
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 799
							}
						}
						112 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 3798
							}
						}
						795 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						179 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
							}
						}
						if = {
							limit = {
								NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
							}
							540 = {
								create_unit = {
									division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
									owner = PREV
									count = 2
									prioritize_location = 8248
								}
							}
						}
					}
				}
			}
			else = {
				start_civil_war = {
					ruling_party = fascism
					ideology = neutrality
					keep_political_leader = no
					size = 0.61
					capital = 112
					states = { 179 112 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
					180 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 9817
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 889 
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 845
							count = 1
						}
					}
					181 = {
						create_unit = {
							division = "division_template = \"Divisão de Camisa Azul\" start_experience_factor = 0.1" 
							owner = POR
							allow_spawning_on_enemy_provs = yes
							prioritize_location = 938
							count = 1
						}
					}
					every_country = {
						limit = {
							original_tag = POR
							has_civil_war = yes 
							has_government = neutrality
						}
						112 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 799
							}
						}
						112 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 3798
							}
						}
						181 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 11885
							}
						}
						181 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
								prioritize_location = 3969
							}
						}
						179 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 3
							}
						}
						if = {
							limit = {
								NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
							}
							540 = {
								create_unit = {
									division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
									owner = PREV
									count = 2
									prioritize_location = 8248
								}
							}
						}
					}
				}
			}
		}
	}
}

#Socialist/Democratic Civil War
country_event = {
	id = portugal.45
	title = portugal.43.t
	desc = portugal.45.d
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			add_ideas = POR_reactionary_resistance
			add_ideas = POR_divided_revolution
			if = {
				limit = {
					GER = { has_opinion_modifier = fascism_leanings_good }
				}
				remove_opinion_modifier = {
					target = GER
					modifier = fascism_leanings_good
				}
			}
			if = {
				limit = {
					ITA = { has_opinion_modifier = fascism_leanings_good }
				}
				remove_opinion_modifier = {
					target = ITA
					modifier = fascism_leanings_good
				}
			}
			if = {
				limit = { has_completed_focus = POR_ally_anti_colonial_resistance }
				if = {
					limit = { 
						controls_state = 891
						controls_state = 892
						controls_state = 540
						controls_state = 796
					}
					891 = { add_resistance = 15 }
					892 = { add_resistance = 14 }
					540 = { add_resistance = 11 }
					796 = { add_resistance = 5 }
				}
				if = {
					limit = { 
						controls_state = 897
						controls_state = 896
						controls_state = 544
					}
					897 = { add_resistance = 14 }
					896 = { add_resistance = 10 }
					544 = { add_resistance = 11 }
				}
				if = {
					limit = { controls_state = 705 }
					705 = { add_resistance = 15 }
				}
				if = {
					limit = { controls_state = 296 }
					296 = { add_resistance = 14 }
				}
				if = {
					limit = { controls_state = 702 }
					702 = { add_resistance = 12 }
				}
			}
		}
	}
	option = {
		name = portugal.45.a
		add_war_support = 0.05
		add_manpower = 20000
		custom_effect_tooltip = CHL_skip_one_line_tt
		if = {
			limit = { neutrality > 0.56 }
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				keep_political_leader = no
				size = 0.62
				capital = 180
				states = { 180 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				112 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.6" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11805
						count = 1
					}
				}
				795 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.6" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 924
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.6" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9869
						count = 1
					}
				}
				179 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.6" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6933
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.6" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 980
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					180 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 3
							prioritize_location = 9817
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6941
						}
					}
					181 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 9787
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6996
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 11885
						}
					}
					795 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 844
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6986
						}
					}
					if = {
						limit = { 
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = { neutrality > 0.5 }
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				keep_political_leader = no
				size = 0.53
				capital = 180
				states = { 180 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				112 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.7" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11805
						count = 1
					}
				}
				795 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.7" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 924
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.7" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9869
						count = 1
					}
				}
				179 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.7" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6933
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.7" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 980
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					180 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 3
							prioritize_location = 9817
						}
					}
					181 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 9787
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6996
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 1
							prioritize_location = 11885
						}
					}
					795 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 844
						}
						create_unit = {
							division = "Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6986
						}
					}
					if = {
						limit = { 
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = { neutrality > 0.45 }
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				keep_political_leader = no
				size = 0.47
				capital = 180
				states = { 180 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				112 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11805
						count = 1
					}
				}
				795 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 924
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9869
						count = 1
					}
				}
				179 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6933
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.75" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 980
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					180 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 3
							prioritize_location = 9817
						}
					}
					181 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 9787
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6996
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 11885
						}
					}
					795 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 3
							prioritize_location = 844
						}
						create_unit = {
							division = "Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
							owner = PREV
							count = 2
							prioritize_location = 6986
						}
					}
					if = {
						limit = { 
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		else = {
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				keep_political_leader = no
				size = 0.47
				capital = 180
				states = { 180 795 181 698 697 702 296 705 796 540 892 891 897 896 544 321 721 729 }
				112 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 11805
						count = 1
					}
				}
				795 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 924
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 9869
						count = 1
					}
				}
				179 = {
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6933
						count = 1
					}
					create_unit = {
						division = "division_template = \"Brigada de Infantaria\" start_experience_factor = 0.04 start_equipment_factor = 0.8" 
						owner = POR
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 980
						count = 1
					}
				}
				every_country = {
					limit = {
						original_tag = POR
						has_civil_war = yes 
						has_government = neutrality
					}
					180 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.9" 
							owner = PREV
							count = 3
							prioritize_location = 9817
						}
					}
					181 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.9" 
							owner = PREV
							count = 2
							prioritize_location = 9787
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.9" 
							owner = PREV
							count = 3
							prioritize_location = 6996
						}
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.9" 
							owner = PREV
							count = 2
							prioritize_location = 11885
						}
					}
					795 = {
						create_unit = {
							division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.9" 
							owner = PREV
							count = 2
							prioritize_location = 844
						}
						create_unit = {
							division = "Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 0.9" 
							owner = PREV
							count = 1
							prioritize_location = 6986
						}
					}
					if = {
						limit = { 
							NOT = { has_completed_focus = POR_ally_anti_colonial_resistance }
						}
						540 = {
							create_unit = {
								division = "name = \"Brigada de Infantaria\" division_template = \"Brigada de Infantaria\" start_experience_factor = 0.4 start_equipment_factor = 1.0" 
								owner = PREV
								count = 2
								prioritize_location = 8248
							}
						}
					}
				}
			}
		}
		hidden_effect = {
			add_command_power = 40
			if = {
				limit = { 
					SPR_scw_in_progress = yes
					has_country_flag = POR_join_forces_with_the_spanish_popular_front_flag 
				}
				if = {
					limit = { country_exists = SPA }
					add_to_war = { targeted_alliance = SPD enemy = SPA hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPC }
					add_to_war = { targeted_alliance = SPD enemy = SPC hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPB }
					add_to_war = { targeted_alliance = SPD enemy = SPB hostility_reason = asked_to_join }
				}
				country_event = {
					id = lar_portugal_iberian_workers_united.1
					hours = 1
				}
				diplomatic_relation = {
					country = SPD
					relation = military_access
					active = yes
				}
				add_ai_strategy = {
					type = befriend
					id = SPD
					value = 100
				}
				SPD = {
					country_event = {
						id = lar_portugal_iberian_workers_united.1
						hours = 1
					}
					diplomatic_relation = {
						country = POR
						relation = military_access
						active = yes
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
				}
				random_country = {
					limit = {
						original_tag = POR
						has_government = neutrality
					}
					if = {
						limit = { country_exists = SPA }
						add_to_war = { targeted_alliance = SPA enemy = SPD hostility_reason = asked_to_join }
						if = {
							limit = { country_exists = SPC }
							add_to_war = { targeted_alliance = SPA enemy = SPC hostility_reason = asked_to_join }
						}
						if = {
							limit = { country_exists = SPB }
							add_to_war = { targeted_alliance = SPA enemy = SPB hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}
}

#Portuguese Socialist's Request Soviet Aid
country_event = {
	id = portugal.46
	title = portugal.46.t
	desc = portugal.46.d
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.46.a
		POR = { 
			add_ideas = POR_NKVD_activity
			country_event = turkey.16
		}
		add_ai_strategy = {
			type = send_volunteers_desire
			id = "POR"
			value = 1000
		}
		ai_chance = { 
			base = 0
			modifier = {
				add = 100
				has_war = no
			}
		}
	}
	option = {
		name = portugal.46.b
		POR = { country_event = turkey.17 }
		ai_chance = { base = 10 }
	}
}

#The Question of Our Colonies
country_event = {
	id = portugal.47
	title = portugal.47.t
	desc = portugal.47.desc
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.47.a	#Our cause is one!
		ai_chance = { base = 10 }
		set_country_flag = POR_released_colonies_flag
		mark_focus_tree_layout_dirty = yes
		custom_effect_tooltip = portugal.47.a_tt
		custom_effect_tooltip = CHL_skip_one_line_tt
		if = {
			limit = { 
				POR = { has_full_control_of_state = 721 }
			}
			667 = {
				controller = {
					country_event = portugal.50
				}
			}
		}
		if = {
			limit = { 
				POR = { has_full_control_of_state = 321 }
			}
			425 = {
				controller = { country_event = portugal.49 }
			}
		}
		if = {
			limit = { 
				POR = { has_full_control_of_state = 729 }
			}
			592 = {
				controller = { 
					country_event = portugal.48 
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					ANG = { exists = no }
					OR = {
						controls_state = 796
						controls_state = 540
						controls_state = 891
						controls_state = 892
					}
				}
				release = ANG
				ANG = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = yes
					}
				}
			}
			if = {
				limit = {
					MZB = { exists = no }
					OR = {
						controls_state = 897
						controls_state = 896
						controls_state = 544
					}
				}
				release = MZB
				MZB = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
				}
			}
			if = {
				limit = {
					GNB = { exists = no }
					controls_state = 296		
				}
				release = GNB
				GNB = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
				}
			}
			if = {
				limit = {
					CAP = { exists = no }
					controls_state = 702		
				}
				release = CAP
				CAP = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
				}
			}
			if = {
				limit = {
					SAO = { exists = no }
					controls_state = 705		
				}
				release = SAO
				SAO = {
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
				}
			}
		}	
	}
	option = {
		name = portugal.47.b	#Perhaps some autonomy would suffice?
		ai_chance = { base = 0 }
		set_country_flag = POR_colonial_autonomy_flag
		mark_focus_tree_layout_dirty = yes
		if = {
			limit = { has_completed_focus = POR_ally_anti_colonial_resistance }
			add_stability = -0.05
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		custom_effect_tooltip = portugal.47.b_tt
		custom_effect_tooltip = CHL_skip_one_line_tt
		hidden_effect = {
			if = {
				limit = {
					ANG = {
						exists = no
					}
					OR = {
						controls_state = 796
						controls_state = 540
						controls_state = 891
						controls_state = 892
					}
				}
				release = ANG
				set_autonomy = {
					target = ANG
					autonomy_state = autonomy_dominion
				}
				ANG = {
					set_politics = { 
						ruling_party = democratic
						elections_allowed = yes
					}
					add_opinion_modifier = {
						target = POR
						modifier = ENG_guiding_the_colonies
					}
				}
			}
			if = {
				limit = {
					MZB = { exists = no }
					OR = {
						controls_state = 897
						controls_state = 896
						controls_state = 544
					}
				}
				release = MZB
				set_autonomy = {
					target = MZB
					autonomy_state = autonomy_dominion
				}
				MZB = {
					set_politics = { 
						ruling_party = democratic
						elections_allowed = yes
					}
					add_opinion_modifier = {
						target = POR
						modifier = ENG_guiding_the_colonies
					}
				}
			}
			if = {
				limit = {
					GNB = { exists = no }
					controls_state = 296		
				}
				release = GNB
				set_autonomy = {
					target = GNB
					autonomy_state = autonomy_dominion
				}
				GNB = {
					set_politics = { 
						ruling_party = democratic
						elections_allowed = yes
					}
					add_opinion_modifier = {
						target = POR
						modifier = ENG_guiding_the_colonies
					}
				}
			}
		}
		every_controlled_state = {
			limit = {
				OR = {
					state = 702
					state = 705
					state = 729
					state = 721
					state = 321
				}
			}
			add_compliance = 40
			add_dynamic_modifier = { modifier = autonomous_state }
		}
	}
	option = {
		name = portugal.47.c	#... About that.
		trigger = { has_completed_focus = POR_ally_anti_colonial_resistance }
		ai_chance = { base = 0 }
		add_stability = -0.05
		add_popularity = {
			ideology = ROOT
			popularity = -0.08
		}
		every_controlled_state = {
			limit = {
				OR = {
					is_on_continent = africa
					is_on_continent = asia
				}
			}
			add_compliance = -5
			add_resistance = 5
		}
	}
	option = {
		name = portugal.47.d	#Hmm... no.
		trigger = {
			NOT = { has_completed_focus = POR_ally_anti_colonial_resistance } 
		}
		ai_chance = { base = 0 }
		add_popularity = {
			ideology = ROOT
			popularity = -0.05
		}
	}
}

country_event = {
	id = portugal.48
	title = portugal.48.t
	desc = portugal.48.desc
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.48.a	#Then we will move in!
		transfer_state = 729
		if = {
			limit = { original_tag = GXC }
			add_state_core = 729
		}
	}
}

country_event = {
	id = portugal.49
	title = portugal.49.t
	desc = portugal.49.desc
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.49.a	#Then we will move in!
		transfer_state = 321
	}
}

country_event = {
	id = portugal.50
	title = portugal.50.t
	desc = portugal.50.desc
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.50.a	#Then we will move in!
		ai_chance = { base = 100 }
		transfer_state = 721
		if = {
			limit = { original_tag = INS }
			add_state_claim = 721
		}
	}
	option = {
		name = portugal.50.b	#This is no threat to us!
		ai_chance = { base = 0 }
		TML = {
			transfer_state = 721
			hidden_effect = {
				if = {
					limit = {
						exists = no
					}
					set_politics = { 
						ruling_party = communism
						elections_allowed = no
					}
				}
			}
		}
	}
}

country_event = {	#Addressing the Spanish Situation
	id = portugal.51
	title = portugal.51.t
	desc = portugal.51.desc
	picture = GFX_report_event_generic_communist_congress
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = portugal.51.a	#Together, we've displayed incredible resolve! Pan-Iberian unity is our path forward!
		trigger = {
			has_country_flag = POR_join_forces_with_the_spanish_popular_front_flag
			41 = {
				owner = { 
					OR = {
						tag = SPR
						tag = SPD
						tag = SPC
					}
					OR = {
						has_government = communism
						has_government = democratic
					}
				}
			}
		}
		hidden_effect = {
			every_state = {
				limit = { has_state_flag = SPR_core_of_spain_flag }
				add_core_of = ROOT
			}
		}
		every_country = {
			limit = {
				OR = {
					tag = SPR
					tag = SPD
					tag = SPC
				}
				OR = {
					has_government = communism
					has_government = democratic
				}
				NOT = { 
					is_subject = yes
					has_war_with = ROOT 
				}
			}
			country_event = { 
				id = lar_portugal_iberian_workers_united.2 
				hours = 6 
			}
		}
		every_country = {
			limit = {
				is_subject_of = ROOT
				OR = {
					tag = SPR
					tag = SPD
					tag = SPC
					tag = SPA
					tag = SPB
					tag = GLC
					tag = NAV
					tag = CAT
					tag = ADU
				}
			}
			ROOT = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		ai_chance = { base = 0 }
	}
	option = {
		name = portugal.51.b	#We should work to expand the friendship we've already built!
		trigger = {
			OR = {
				has_country_flag = POR_supports_SPD_flag
				has_country_flag = POR_join_forces_with_the_spanish_popular_front_flag
			}
			41 = {
				owner = { 
					OR = {
						has_completed_focus = SPR_maintain_the_second_republic 
						has_completed_focus = SPR_the_anti_fascist_workers_revolution
					}
				}
			}
		}
		41 = {
			owner = { 
				country_event = { id = portugal.52 hours = 6 }
			}
		}
		ai_chance = { base = 100 }
		
	}
	option = {
		name = portugal.51.c	#Despite our differences, what's best for us both is to normalize our relations
		ai_chance = { base = 15 }
		41 = {
			owner = { 
				country_event = { id = portugal.55 hours = 6 }
			}
		}
	}
	option = {
		name = portugal.51.d	#This "new Spain" is a threat to everything we stand for!
		ai_chance = { base = 1 }
		every_state = {
			limit = { has_state_flag = SPR_core_of_spain_flag }
			add_claim_by = ROOT
		}	
	}
}

#Spanish-Portuguese Alliance
country_event = {
	id = portugal.52
	title = portugal.52.t
	desc = portugal.52.d
	picture = GFX_report_event_generic_communist_congress
	is_triggered_only = yes
	option = {	#Of course! We shall codify the friendship we've already built!
		name = portugal.52.a
		ai_chance = {
			base = 10
		}
		POR = {
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = yes
			}
		}
		diplomatic_relation = {
			country = FROM
			relation = guarantee
		}
		give_guarantee = POR
		FROM = {
			country_event = {
				id = portugal.53
				hours = 4
				random_hours = 2
			}
		}
	}
	option = { 	#We are not interested in their affairs!
		name = portugal.52.b
		ai_chance = {
			base = 0
		}
		FROM = {
			country_event = {
				id = portugal.54
				hours = 4
				random_hours = 2
			}
		}
	}
}
#The Spanish Accept Our Alliance!
country_event = {
	id = portugal.53
	title = portugal.53.t
	desc = portugal.53.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_communist_congress
	option = { # Excellent!
		name = portugal.53.a
	}
}
#The Spanish Have Refused!
country_event = {
	id = portugal.54
	title = portugal.54.t
	desc = portugal.54.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_sign_treaty1 
	option = { # Unfortunate.
		name = portugal.54.a
	}
}
#Portugal Requests a Non-Aggression Pact
country_event = {
	id = portugal.55
	title = portugal.55.t
	desc = portugal.55.d
	picture = GFX_report_event_generic_communist_congress
	is_triggered_only = yes
	option = {	#Of course! Avoiding war on the peninsula is in all of our interests!
		name = portugal.55.a
		ai_chance = {
			base = 1
		}
		POR = {
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = yes
			}
		}
		FROM = {
			country_event = {
				id = portugal.56
				hours = 4
				random_hours = 2
			}
		}
	}
	option = { 	#We are not interested in their affairs!
		name = portugal.55.b
		ai_chance = {
			base = 1
		}
		FROM = {
			country_event = {
				id = portugal.57
				hours = 4
				random_hours = 2
			}
		}
	}
}
#The Spanish Have Accepted!
country_event = {
	id = portugal.56
	title = portugal.56.t
	desc = portugal.56.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_communist_congress
	option = { # Excellent!
		name = portugal.56.a
	}
}
#The Spanish Have Refused!
country_event = {
	id = portugal.57
	title = portugal.57.t
	desc = portugal.57.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_sign_treaty1 
	option = { # Unfortunate.
		name = portugal.57.a
	}
}
country_event = {	#Portuguese General Election
	id = portugal.58
	title = portugal.58.t
	desc = portugal.58.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_peaceful_annexation
	option = {		#José Norton de Matos
		name = portugal.58.a
		set_politics = { 
			ruling_party = democratic 
			elections_allowed = yes
			election_frequency = 48
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_country_leader_role = {
			character = POR_jose_norton_de_matos
			promote_leader = yes
			country_leader = {
				ideology = liberalism
				traits = { 
					popular_figurehead2
					retired_officer 
				}
				expire = "1965.1.1"
			}
		}
	}
	option = { 		#José Domingues dos Santos
		name = portugal.58.b
		set_politics = { 
			ruling_party = democratic 
			elections_allowed = yes
			election_frequency = 48
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		create_country_leader = {		#I cannot get putting this guy in the character file and then promoting to work. It always just assigns the previous democratic leader. 
			name = "José Domingues dos Santos"
			picture = "gfx/leaders/POR/r56_portrait_POR_Jose_Domingues_dos_Santos.dds"
			expire = "1965.1.1"
			ideology = socialism
			traits = { resolute_social_democrat }
		}
	}
	option = {		#Bento António Gonçalves
		name = portugal.58.c
		set_politics = { 
			ruling_party = communism
			elections_allowed = yes
			election_frequency = 48
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_popularity = {
			ideology = communism
			popularity = 0.15
		}
		custom_effect_tooltip = CHL_skip_one_line_tt
		add_country_leader_role = {
			character = POR_bento_goncalves
			promote_leader = yes
			country_leader = {
				ideology = democratic_socialism
				traits = { man_of_the_nation }
				expire = "1965.1.1"
			}
		}
	}
}