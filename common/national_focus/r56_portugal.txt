focus_tree = {
	id = r56_portuguese_focus
	country = {
		factor = 0
		modifier = {
			add = 10
            original_tag = POR
		}
	}
	default = no
	continuous_focus_position = { x = 110 y = 730 }
	
	#Navy
	focus = {
		id = POR_continue_the_naval_expansion
		icon = GFX_goal_navy_funding
		cost = 8
		x = 4
		y = 0
		completion_reward = {
			navy_experience = 35
			add_command_power = 15
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT }
	}

	focus = {
		id = POR_expand_naval_production
		prerequisite = { focus = POR_continue_the_naval_expansion }
		icon = GFX_focus_generic_shipbuilding
		cost = 8
		x = -3
		y = 1
		relative_position_id = POR_continue_the_naval_expansion
		offset = {
			x = -2
			y = 0
			trigger = { has_dlc = "Man the Guns" }
		}
		available = {
			has_full_control_of_state = 112
			has_full_control_of_state = 180
		}
		completion_reward = {
			112 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			180 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_expand_the_alfeite_shipyard
		prerequisite = { focus = POR_expand_naval_production }
		icon = GFX_goal_generic_blue_navy
		cost = 8
		x = -1
		y = 1
		relative_position_id = POR_expand_naval_production
		available = { has_full_control_of_state = 112 }
		completion_reward = {
			112 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_expand_northern_repair_facilities
		prerequisite = { focus = POR_expand_naval_production }
		icon = GFX_goal_generic_expand_the_naval_industry
		cost = 5
		x = 1
		y = 1
		relative_position_id = POR_expand_naval_production
		available = { has_full_control_of_state = 180 }
		completion_reward = {
			180 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_experiment_with_radar
		prerequisite = { focus = POR_continue_the_naval_expansion }
		icon = GFX_goal_generic_radar
		cost = 5
		ai_will_do = { base = 1 }
		x = 3
		y = 1
		relative_position_id = POR_continue_the_naval_expansion
		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = radar_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_expand_the_merchant_fleet
		prerequisite = { focus = POR_continue_the_naval_expansion }
		icon = GFX_focus_generic_merchant_fleet
		cost = 5
		x = 1
		y = 1
		relative_position_id = POR_continue_the_naval_expansion
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = dd_tech
				category = cl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_anti_submarine_weaponry
		prerequisite = { focus = POR_expand_the_merchant_fleet }
		icon = GFX_goal_navy_schematics
		cost = 5
		x = 1
		y = 1
		relative_position_id = POR_expand_the_merchant_fleet
		allow_branch = { has_dlc = "Man the Guns" }
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				technology = basic_depth_charges
				technology = improved_depth_charges
				technology = advanced_depth_charges
				technology = modern_depth_charges
				technology = sonar
				technology = improved_sonar
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_study_italian_submarines
		prerequisite = { focus = POR_continue_the_naval_expansion }
		icon = GFX_goal_generic_navy_submarine
		cost = 5
		x = -1
		y = 1
		relative_position_id = POR_continue_the_naval_expansion
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = ss_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_advancing_our_tactics
		prerequisite = { 
			focus = POR_study_italian_submarines
			focus = POR_expand_the_merchant_fleet
		}
		icon = GFX_goal_generic_navy_doctrines_tactics
		cost = 8
		x = 1
		y = 1
		relative_position_id = POR_study_italian_submarines
		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT }
	}

	focus = {
		id = POR_the_future_of_naval_deterrence
		prerequisite = { focus = POR_study_italian_submarines }
		icon = GFX_focus_generic_mine_warfare
		cost = 5
		x = -1
		y = 1
		relative_position_id = POR_study_italian_submarines
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = naval_mines
				category = torpedo_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_restore_our_high_seas_presence
		prerequisite = { focus = POR_advancing_our_tactics }
		mutually_exclusive = { focus = POR_focus_on_submarine_production }
		icon = GFX_goal_generic_navy_battleship
		cost = 8
		ai_will_do = { base = 1 }
		x = 1
		y = 1
		relative_position_id = POR_advancing_our_tactics
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = ca_tech
				category = bb_tech
				category = bc_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					technology = basic_medium_battery
					technology = improved_medium_battery
					technology = basic_heavy_battery
					technology = improved_heavy_battery
				}
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			every_navy_leader = { add_defense = 1 }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_focus_on_submarine_production
		prerequisite = { focus = POR_advancing_our_tactics }
		mutually_exclusive = { focus = POR_restore_our_high_seas_presence }
		icon = GFX_goal_generic_navy_anti_submarine
		cost = 8
		ai_will_do = { base = 2 }
		x = -1
		y = 1
		relative_position_id = POR_advancing_our_tactics
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = ss_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					technology = basic_submarine_snorkel
					technology = improved_submarine_snorkel
				}
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			every_navy_leader = { add_maneuver = 1 }
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = COL_submarines_focus
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_guide_the_future_of_naval_warfare
		prerequisite = { 
			focus = POR_focus_on_submarine_production 
			focus = POR_restore_our_high_seas_presence
		}
		icon = GFX_goal_POR_coa_navy
		cost = 10
		ai_will_do = { base = 3 }
		x = 1
		y = 1
		relative_position_id = POR_focus_on_submarine_production
		completion_reward = {
			navy_experience = 90
			every_navy_leader = { add_coordination = 1 }	
			add_doctrine_cost_reduction = {
				cost_reduction = 0.75
				uses = 2
				category = naval_doctrine
			}		
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT }
	}

	#Army
	focus = {
		id = POR_complete_the_military_restructuring
		icon = GFX_focus_SOV_mobilization_plan
		cost = 8
		ai_will_do = { base = 15 }
		x = 18
		y = 0
		completion_reward = {
			army_experience = 30
			add_command_power = 15
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = POR_institute_of_higher_military_studies
		prerequisite = { focus = POR_complete_the_military_restructuring }
		icon = GFX_goal_supremacy_of_will
		x = 2
		y = 1
		relative_position_id = POR_complete_the_military_restructuring
		cost = 6
		available = {
			OR = {
				custom_trigger_tooltip = {		#There are two techs called 'Delay'
					tooltip = has_researched_delay_tt
					OR = {
						has_tech = delay
						has_tech = sup_delay
					}
				}
				has_tech = prepared_defense
				has_tech = pocket_defence
				has_tech = r56_double_envelopment
			} 
		}
		continue_if_invalid = yes
		ai_will_do = {
			base = 4000
		}
		completion_reward = {
			add_research_slot = 1
			remove_ideas = POR_lackluster_armed_forces
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_prepare_for_a_defense_of_the_interior
		prerequisite = { focus = POR_complete_the_military_restructuring }
		icon = GFX_focus_generic_provoke_border_clashes
		cost = 5
		ai_will_do = { base = 9 }
		x = -2
		y = 1
		relative_position_id = POR_complete_the_military_restructuring
		completion_reward = {
			army_experience = 15
			if = {
				limit = {
					controls_state = 112
				}
				112 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					controls_state = 180
				}
				180 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = LAT_fortifications
		}
	}

	focus = {
		id = POR_study_the_spanish_civil_war
		prerequisite = { focus = POR_complete_the_military_restructuring }
		icon = GFX_goal_italy_study_the_spanish_civil_war
		x = 0
		y = 1
		relative_position_id = POR_complete_the_military_restructuring
		cost = 6
		ai_will_do = { base = 2000 }
		available = {
			has_global_flag = spanish_civil_war
		}
		completion_reward = {
			add_command_power = 15
			add_timed_idea = {
				idea = POR_studying_the_spanish_civil_war
				days = 1095
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = POR_learn_from_guerrilla_operations
		prerequisite = { focus = POR_study_the_spanish_civil_war }
		icon = GFX_goal_assymetric_doctrine
		x = 0
		y = 1
		relative_position_id = POR_study_the_spanish_civil_war
		cost = 8
		ai_will_do = {
			base = 5
		}
		completion_reward = {
			add_tech_bonus = {
				ahead_reduction = 1
				uses = 1.5
				technology = camo1942
				technology = camo1948
				technology = camo1955
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = cat_mass_assault
				category = cat_r56_guerilla_warfare
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_prepare_for_the_worst
		prerequisite = { focus = POR_learn_from_guerrilla_operations }
		icon = GFX_goal_generic_secret_documents
		cost = 5
		x = -1
		y = 1
		relative_position_id = POR_learn_from_guerrilla_operations
		available = { has_war = yes }
		completion_reward = {
			add_timed_idea = { 
				idea = POR_funding_underground_resistance_groups
				days = 700
			}
			if = {
				limit = { 
					controls_state = 540
				}
				custom_effect_tooltip = CHL_skip_one_line_tt
				add_victory_points = {
					province = 8248
					value = 4
				}
			}
		}
	}

	focus = {
		id = POR_develop_anti_partisan_tactics
		prerequisite = { focus = POR_learn_from_guerrilla_operations }
		icon = GFX_focus_SOV_penal_battalions
		cost = 5
		x = 1
		y = 1
		relative_position_id = POR_learn_from_guerrilla_operations
		completion_reward = {
			army_experience = 15
			add_tech_bonus = {
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = military_police_tech
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_begin_mechanizing_the_army
		prerequisite = { focus = POR_study_the_spanish_civil_war }
		icon = GFX_goal_generic_production2
		x = -4
		y = 1
		relative_position_id = POR_study_the_spanish_civil_war
		cost = 8
		ai_will_do = { base = 3 }
		completion_reward = {
			add_tech_bonus = {
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_experiment_with_amphibious_vehicles
		prerequisite = { focus = POR_begin_mechanizing_the_army }
		icon = GFX_goal_generic_landing_craft
		x = -1
		y = 1
		relative_position_id = POR_begin_mechanizing_the_army
		cost = 5
		ai_will_do = { base = 5 }
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				technology = amphibious_mechanized_infantry
				technology = amphibious_mechanized_infantry_2
			}	
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_study_foreign_tanks
		prerequisite = { focus = POR_begin_mechanizing_the_army }
		icon = GFX_goal_ger_panzers
		x = 1
		y = 1
		relative_position_id = POR_begin_mechanizing_the_army
		cost = 10
		ai_will_do = { base = 1 }
		completion_reward = {
			army_experience = 15
			add_tech_bonus = {
				bonus = 1.0
				ahead_reduction = 1
				uses = 1
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = POR_prepare_for_a_war_of_logistics
		prerequisite = { 
			focus = POR_study_foreign_tanks
			focus = POR_infantry_advancements
		}
		icon = GFX_focus_generic_truck
		cost = 5
		ai_will_do = { base = 2 }
		x = 2
		y = 1
		relative_position_id = POR_study_foreign_tanks
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = logistics_tech
			}	
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_engineer_battalions
		prerequisite = { 
			focus = POR_study_foreign_tanks
			focus = POR_infantry_advancements
		}
		icon = GFX_goal_generic_construction2
		cost = 5
		ai_will_do = { base = 2 }
		x = 4
		y = 1
		relative_position_id = POR_study_foreign_tanks
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = engineers_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_specialized_auxiliary_tanks
		prerequisite = { focus = POR_study_foreign_tanks }
		mutually_exclusive = { focus = POR_concentration_of_force }
		icon = GFX_goal_HUN_assault_gun
		x = 0
		y = 1
		relative_position_id = POR_study_foreign_tanks
		cost = 8
		ai_will_do = { base = 1 }
		available = {
		}
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = cat_heavy_armor
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = recon_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_concentration_of_force
		prerequisite = { focus = POR_study_foreign_tanks }
		mutually_exclusive = { focus = POR_specialized_auxiliary_tanks }
		icon = GFX_goal_GER_pocket_liquidation	
		x = -2
		y = 1
		relative_position_id = POR_study_foreign_tanks
		cost = 8	
		ai_will_do = { base = 1 }
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = cat_light_armor
				category = cat_medium_armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_continue_the_standardization
		prerequisite = { focus = POR_study_the_spanish_civil_war }
		icon = GFX_goal_generic_warfighting_technology
		cost = 8
		x = 5
		y = 1
		relative_position_id = POR_study_the_spanish_civil_war
		ai_will_do = { base = 12 }
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = cat_grand_battle_plan
				category = cat_superior_firepower
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT FOCUS_FILTER_RESEARCH }
		
	}

	focus = {
		id = POR_modernize_our_artillery_systems
		prerequisite = { focus = POR_continue_the_standardization }
		icon = GFX_goal_generic_army_artillery2
		x = 2
		y = 1
		relative_position_id = POR_continue_the_standardization
		cost = 8
		ai_will_do = { base = 4 }
		completion_reward = {
			add_tech_bonus = {
				bonus = 1.5
				ahead_reduction = 1.5
                uses = 1
				category = artillery 
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_infantry_advancements
		prerequisite = { 
			focus = POR_continue_the_standardization
			focus = POR_learn_from_guerrilla_operations 
		}
		icon = GFX_focus_generic_commonwealth_build_infantry
		x = 0
		y = 1
		relative_position_id = POR_continue_the_standardization
		cost = 10
		ai_will_do = { base = 7 }
		completion_reward = {
			army_experience = 15
			add_tech_bonus = {
				bonus = 1.5
				ahead_reduction = 1.5
				uses = 1
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_adapting_to_the_modern_battlefield
		prerequisite = { 
			focus = POR_continue_the_standardization
			focus = POR_learn_from_guerrilla_operations 
		}
		icon = GFX_goal_airplane_hunt
		cost = 5
		ai_will_do = { base = 2 }
		x = -2
		y = 1
		relative_position_id = POR_continue_the_standardization
		completion_reward = {
			add_tech_bonus = {
                bonus = 0.5
                uses = 2
				category = cat_anti_air
				category = cat_anti_tank
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_experiment_with_airborne_divisions
		prerequisite = { focus = POR_infantry_advancements }
		icon = GFX_focus_generic_paratrooper
		x = -1
		y = 1
		relative_position_id = POR_infantry_advancements
		cost = 5
		ai_will_do = { base = 1 }
		completion_reward = {	
			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = para_tech			
			}
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_doctrine_cost_reduction = {
					cost_reduction = 0.5
					uses = 1
					category = cat_paratroopers_doctrine
				}	
			}
			else = {
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					category = r56_special_forces_training_tech 
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	focus = {
		id = POR_restore_the_naval_guard
		prerequisite = { focus = POR_infantry_advancements }
		icon = GFX_goal_generic_amphibious_assault
		x = 1
		y = 1
		relative_position_id = POR_infantry_advancements
		cost = 5
		ai_will_do = { base = 1 }
		completion_reward = {
			add_tech_bonus = {
			    bonus = 0.75
			    uses = 1
			    category = marine_tech
			}
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_doctrine_cost_reduction = {
					cost_reduction = 0.5
					uses = 1
					category = cat_marines_doctrine
				}	
			}
			else = {
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					category = r56_special_forces_training_tech 
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	#Airforce - Shared with navy
	focus = {
		id = POR_study_british_fighters
		prerequisite = { 
			focus = POR_continue_the_naval_expansion
			focus = POR_complete_the_military_restructuring
		}
		icon = GFX_focus_generic_copy_plane_designs

		x = 7
		y = 1
		relative_position_id = POR_continue_the_naval_expansion 
		cost = 8
		ai_will_do = { base = 6 }
		completion_reward = {
			if = {
				limit = { has_dlc = "By Blood Alone" }
				add_tech_bonus = {
					technology =  basic_small_airframe
					technology  = improved_small_airframe
					technology = advanced_small_airframe
					bonus = 0.75
					uses = 1
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					technology = aa_hmg
					technology = aa_cannon_1
					technology = aa_cannon_2
					technology = aa_cannon_3
				}
			}
			else = {
				add_tech_bonus = {
					bonus = 1
					uses = 1
					category = light_fighter
					category = cat_heavy_fighter
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_experiment_with_heavy_fighters
		prerequisite = { focus = POR_study_british_fighters }
		icon = GFX_goal_generic_air_heavy_fighter_new
		cost = 6
		x = 1
		y = 1
		relative_position_id = POR_study_british_fighters
		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = cat_heavy_fighter
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_modern_engines
		prerequisite = { focus = POR_study_british_fighters }
		icon = GFX_goal_generic_air_production
		cost = 5
		x = 1
		y = 1
		relative_position_id = POR_study_british_fighters
		allow_branch = { has_dlc = "By Blood Alone" }
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				technology = engines_1
				technology = engines_2
				technology = engines_3
				technology = engines_4
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_import_foreign_bombers
		prerequisite = { 
			focus = POR_continue_the_naval_expansion
			focus = POR_complete_the_military_restructuring
		}
		icon = GFX_goal_generic_air_bomber 
		x = 5
		y = 1
		relative_position_id = POR_continue_the_naval_expansion 
		cost = 8
		ai_will_do = { base = 2 }
		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					technology =  basic_medium_airframe
					technology  = improved_medium_airframe
					technology = advanced_medium_airframe
					bonus = 0.75
					uses = 1
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					technology = armor_piercing_bombs
					technology = heavy_bombs
				}
			}
			else = {
				add_tech_bonus = {
					bonus = 1
					uses = 1
					category = tactical_bomber
					category = cas_bomber
				}
			}	
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_experiment_with_naval_bombers
		prerequisite = {  focus = POR_import_foreign_bombers }
		icon = GFX_goal_generic_air_naval_bomber
		x = -1
		y = 1
		relative_position_id = POR_import_foreign_bombers
		cost = 6
		ai_will_do = { base = 2 }
		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					bonus = 1
					uses = 1
					technology = air_torpedoe_1
					technology = air_torpedoe_2
					technology = air_torpedoe_3
				}
			}
			else = {
				add_tech_bonus = {
					bonus = 1
					uses = 1
					category = naval_bomber
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_grant_autonomy_to_the_airforce
		prerequisite = { 
			focus = POR_import_foreign_bombers
			focus = POR_study_british_fighters
		}
		icon = GFX_focus_usa_escort_fighters
		cost = 8
		ai_will_do = { base = 5 }
		x = 1
		y = 1
		relative_position_id = POR_import_foreign_bombers
		completion_reward = {
			air_experience = 40
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT }
	}

	focus = {
		id = POR_air_land_battle
		prerequisite = { focus = POR_grant_autonomy_to_the_airforce }
		icon = GFX_focus_generic_tank_air_support
		cost = 10
		ai_will_do = { base = 5 }
		x = -1
		y = 1
		relative_position_id = POR_grant_autonomy_to_the_airforce
		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					technology =  basic_medium_airframe
					technology  = improved_medium_airframe
					technology = advanced_medium_airframe
					bonus = 1.5
					ahead_reduction = 1.5
					uses = 1
				}
				custom_effect_tooltip = CHL_skip_one_line_tt
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					technology = range_improvements
				}
			}
			else = {
				add_tech_bonus = {
					bonus = 1.5
					ahead_reduction = 1.5
					uses = 1
					category = cas_bomber
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_modernize_the_fighter_arsenal
		prerequisite = { focus = POR_grant_autonomy_to_the_airforce }
		icon = GFX_goal_generic_air_fighter
		cost = 10
		ai_will_do = { base = 5 }
		x = 1
		y = 1
		relative_position_id = POR_grant_autonomy_to_the_airforce
		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					bonus = 1.5
					ahead_reduction = 1.5
					uses = 1
					technology = improved_small_airframe
					technology = advanced_small_airframe
				}	
			}
			else = {
				add_tech_bonus = {
					bonus = 1.5
					ahead_reduction = 1.5
					uses = 1
					category = light_fighter
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_complete_the_separation
		prerequisite = { 
			focus = POR_air_land_battle
			focus = POR_modernize_the_fighter_arsenal
		}
		icon = GFX_goal_POR_coa_air_force
		cost = 10
		ai_will_do = { base = 5 }
		x = 1
		y = 1
		relative_position_id = POR_air_land_battle
		completion_reward = {
			air_experience = 120
			add_command_power = 20
			add_doctrine_cost_reduction = {
				cost_reduction = 0.75
				uses = 2
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_MILITARY_IMPROVEMENT }
	}

	#Eco - Shared
	focus = {
		id = POR_continue_the_public_works_r56
		icon = GFX_goal_generic_construction3
		cost = 8
		ai_will_do = { base = 15 }
		x = 32
		y = 0
		completion_reward = {
			add_stability = 0.03
			add_tech_bonus = {
				bonus = 0.35
				uses = 3
				category = industry
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_duarte_jose_pacheco
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_support_continued_educational_expansion
		prerequisite = { focus = POR_continue_the_public_works_r56 }
		icon = GFX_focus_research
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_continue_the_public_works_r56
		available = { 
			if = {
				limit = { 
					NOT = { 
						has_completed_focus = POR_storm_the_national_assembly
						has_completed_focus = POR_unlatch_salazars_grip
					}
				}
				has_stability > 0.9
				num_of_factories > 35
			}
			else = { num_of_factories > 40 }
		}
		completion_reward = { add_research_slot = 1 }
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_strengthen_the_colonial_administration
		prerequisite = { focus = POR_continue_the_public_works_r56 }
		icon = GFX_focus_generic_military_dictatorship
		cost = 6
		x = 4
		y = 3 
		relative_position_id = POR_continue_the_public_works_r56
		available = {
			OR = {
				has_completed_focus = POR_continue_salazars_policies
				has_completed_focus = POR_restore_valiance_to_the_nation
				custom_trigger_tooltip = {
					tooltip = POR_strengthen_the_colonial_administration_trigger
					AND = {
						has_completed_focus = POR_the_question_of_our_colonies
						NOT = { has_country_flag = POR_released_colonies_flag }
					}	
				}
			}
		}
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_country_flag = POR_released_colonies_flag }
			}
		}
		completion_reward = {
			custom_effect_tooltip = POR_strengthen_the_colonial_administration_tt
			show_ideas_tooltip = ITA_fake_colonial_police_law
		}
	}

	focus = {
		id = POR_expand_overseas_recruitment
		prerequisite = { focus = POR_strengthen_the_colonial_administration }
		icon = GFX_goal_CAN_WCMC
		cost = 6
		x = -1
		y = 1
		relative_position_id = POR_strengthen_the_colonial_administration
		completion_reward = { 
			add_ideas = POR_colonial_army_r56
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_francisco_craveiro_lopes 
		}
	}

	focus = {
		id = POR_bolster_the_colonial_garrison
		prerequisite = { focus = POR_strengthen_the_colonial_administration }
		icon = GFX_goal_generic_multinational_army
		cost = 6
		x = 1
		y = 1
		relative_position_id = POR_strengthen_the_colonial_administration
		available = {
			has_tech = tech_military_police2
			has_tech = jngdst_clothes_1939
		}
		completion_reward = { custom_effect_tooltip = ITA_regional_development_occupation_law_tt }
	}

	focus = {
		id = POR_develop_mozambique_r56
		prerequisite = { focus = POR_strengthen_the_colonial_administration }
		icon = GFX_focus_generic_africa_naval
		x = 2
		y = 2
		relative_position_id = POR_strengthen_the_colonial_administration
		cost = 8
		available = {
			544 = { is_controlled_by_ROOT_or_subject = yes }
			897 = { is_controlled_by_ROOT_or_subject = yes }
		}
		completion_reward = {
			every_controlled_state = {
				limit = { is_core_of = MZB }
				add_compliance = 5
				add_resistance = -5
				add_extra_state_shared_building_slots = 1
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			544 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					province = 8245
					instant_build = yes
				}
				add_resource = {
					type = aluminium
					amount = 9
				}
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			897 = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 2123
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESOURCES }
	}

	focus = {
		id = POR_develop_the_angolan_interior
		prerequisite = { focus = POR_strengthen_the_colonial_administration }
		icon = GFX_focus_generic_africa_infrastructure
		available = {
			796 = { is_controlled_by_ROOT_or_subject = yes }
		}
		x = -2
		y = 2
		relative_position_id = POR_strengthen_the_colonial_administration
		cost = 8
		completion_reward = {
			every_controlled_state = {
				limit = { is_core_of = ANG }
				add_compliance = 5
				add_resistance = -5
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			540 = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 8248
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESOURCES }
	}

	focus = {
		id = POR_never_another_la_lys
		prerequisite = { focus = POR_continue_the_public_works_r56 }
		icon = GFX_goal_r56_CAN_industry
		cost = 5
		ai_will_do = { base = 15 }
		x = -4
		y = 3
		relative_position_id = POR_continue_the_public_works_r56
		available = {
			has_civil_war = no
			has_war = yes 
		}
		completion_reward = {
			if = {
				limit = { has_war_support < 0.3 }
				set_war_support = 0.3
			}
			else = { add_war_support = 0.05 }
			custom_effect_tooltip = CHL_skip_one_line_tt
			if = {
				limit = { has_idea = civilian_economy }
				add_ideas = partial_economic_mobilisation
			}
			else_if = {
				limit = { has_idea = low_economic_mobilisation }
				add_ideas = partial_economic_mobilisation
				custom_effect_tooltip = CHL_skip_one_line_tt
				random_owned_controlled_state = {
					prioritize = { 112 }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 112 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_prepare_wartime_heavy_industry
		prerequisite = { focus = POR_never_another_la_lys }
		icon = GFX_goal_generic_production
		cost = 8
		x = -1
		y = 1
		relative_position_id = POR_never_another_la_lys
		available = { has_tech = assembly_line_production }
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 112 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 180 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_the_resource_war
		prerequisite = { focus = POR_never_another_la_lys }
		icon = GFX_goal_timber_industry
		cost = 8
		x = 1
		y = 1
		relative_position_id = POR_never_another_la_lys
		available = { 
			has_tech = excavation1
			has_tech = excavation2 
			has_tech = excavation3
			has_tech = excavation4
		}
		completion_reward = {
			add_offsite_building = {
				type = industrial_complex
				level = 2
			}
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = { 
					add_resource = {
						type = tungsten
						amount = 6
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { 
					add_resource = {
						type = steel
						amount = 3
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = { 
					add_resource = {
						type = steel
						amount = 2
					}
				}
			}
			if = {
				limit = {
					796 = {
						OR = {
							is_controlled_by = ROOT
							controller = { is_subject_of = ROOT }
						}
					} 
				}
				796 = {
					add_resource = {
						type = oil
						amount = 6
					}
				}
			}
			else = {
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					category = cat_synth_oil
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESOURCES }
	}

	focus = {
		id = POR_rejuvenate_the_land_forces
		prerequisite = { 
			focus = POR_prepare_wartime_heavy_industry
			focus = POR_the_resource_war
		}
		mutually_exclusive = {
			focus = POR_renew_the_portuguese_armada
			focus = POR_support_an_aerial_expansion
		}
		icon = GFX_focus_generic_mass_production
		x = 0
		y = 2
		relative_position_id = POR_never_another_la_lys
		cost = 10
		ai_will_do = { base = 30 }
		available = {
			OR = {
				has_tech = improved_infantry_weapons
				has_tech = artillery1
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 112 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 180 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = POR_rejuvenating_the_land_forces
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_support_an_aerial_expansion
		prerequisite = { 
			focus = POR_prepare_wartime_heavy_industry
			focus = POR_the_resource_war
		}
		mutually_exclusive = {
			focus = POR_renew_the_portuguese_armada
			focus = POR_rejuvenate_the_land_forces
		}
		icon = GFX_focus_generic_aircraft_production
		cost = 10
		ai_will_do = { base = 12 }
		x = 2
		y = 2
		relative_position_id = POR_never_another_la_lys
		available = {
			if = {
				limit = { has_dlc = "By Blood Alone" }
				OR = {
					has_tech = basic_small_airframe
					has_tech = basic_medium_airframe
					has_tech = basic_large_airframe
				}
			}
			else = {
				OR = {
					has_tech = fighter1
					has_tech = tactical_bomber1
					has_tech = CAS1
				}
			}	
		}
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 112 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 180 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = HOL_domestic_jet_engine_designs_2
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_renew_the_portuguese_armada
		prerequisite = { 
			focus = POR_prepare_wartime_heavy_industry
			focus = POR_the_resource_war
		}
		mutually_exclusive = {
			focus = POR_rejuvenate_the_land_forces
			focus = POR_support_an_aerial_expansion
		}
		icon = GFX_goal_generic_occupy_states_coastal
		cost = 10
		ai_will_do = { base = 12 }
		x = -2
		y = 2
		relative_position_id = POR_never_another_la_lys
		available = {
			if = {
				limit = { has_dlc = "Man the Guns" }
				OR = {
					has_tech = improved_ship_hull_cruiser
					has_tech = improved_ship_hull_heavy	
					has_tech = improved_ship_hull_carrier
				}
			}
			else = {
				OR = {
					has_tech = improved_light_cruiser 
					has_tech = improved_heavy_cruiser
					has_tech = improved_carrier
				}
			}
		}
		completion_reward = {
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = POR_renewing_the_portuguese_armada
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_import_foreign_machinery
		prerequisite = { focus = POR_continue_the_public_works_r56 }
		icon = GFX_goal_generic_construction_tools
		cost = 10
		ai_will_do = { base = 3 }
		x = -2
		y = 1
		relative_position_id = POR_continue_the_public_works_r56
		available = { has_tech = construction1 }
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = industry
			}
			random_controlled_state = {
				limit = { is_core_of = ROOT }
				prioritize = { 112 } 
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_develop_portuguese_textiles
		prerequisite = { focus = POR_import_foreign_machinery }
		icon = GFX_focus_CHL_enlarge_the_textile_industries
		cost = 8
		ai_will_do = { base = 18 }
		x = -1
		y = 1
		relative_position_id = POR_import_foreign_machinery
		available = { has_tech = advanced_machine_tools }
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 180 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex 
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_modernize_the_national_rail_network
		icon = GFX_focus_POL_warsaw_main_station
		prerequisite = { focus = POR_subsidize_rolling_stock_production }
		prerequisite = { focus = POR_import_foreign_machinery }
		cost = 10
		x = 1
		y = 1
		relative_position_id = POR_import_foreign_machinery
		available = { 
			has_tech = construction3 
			controls_state = 112
			controls_state = 180
		}
		completion_reward = {
			112 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			180 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_finish_the_santa_luzia_dam
		prerequisite = { focus = POR_modernize_the_national_rail_network }
		icon = GFX_focus_generic_hydroelectric_energy
		cost = 15
		ai_will_do = { base = 15 }
		x = 0
		y = 1
		relative_position_id = POR_modernize_the_national_rail_network
		available = {
			has_tech = construction4
			has_full_control_of_state = 181
		}
		completion_reward = {
			hidden_effect = {
				set_province_name = {
					id = 11885
					name = POR_cabril_dam
				}
			}	
			add_ideas = POR_hydroelectric_power
			custom_effect_tooltip = CHL_skip_one_line_tt
			181 = {
				add_extra_state_shared_building_slots = 3	
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					province = { id = 11885 }
				}
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = { id = 11885 }
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_subsidize_rolling_stock_production
		prerequisite = { focus = POR_continue_the_public_works_r56 }
		icon = GFX_focus_SOV_organize_wreckers
		cost = 10
		x = 2
		y = 1
		relative_position_id = POR_continue_the_public_works_r56
		available = { 
			OR = {
				has_tech = concentrated_industry
				has_tech = dispersed_industry
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 112 }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 795 }
				add_extra_state_shared_building_slots = 1
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_expand_the_mining_industry
		prerequisite = { focus = POR_subsidize_rolling_stock_production }
		icon = GFX_focus_generic_road_investment
		cost = 8
		ai_will_do = { base = 15 }
		x = 1
		y = 1
		relative_position_id = POR_subsidize_rolling_stock_production
		available = { 
			has_tech = excavation1
			has_tech = excavation2 
		}
		completion_reward = {
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = { 
					add_resource = {
						type = tungsten
						amount = 6
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = { 
					add_resource = {
						type = tungsten
						amount = 9
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 795 }
				795 = { 
					add_resource = {
						type = chromium
						amount = 4
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESOURCES FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_finish_the_urban_electrification
		prerequisite = { focus = POR_import_foreign_machinery }
		prerequisite = { focus = POR_subsidize_rolling_stock_production }
		icon = GFX_focus_generic_energy
		cost = 10
		x = -1
		y = 1
		relative_position_id = POR_subsidize_rolling_stock_production
		available = { 
			OR = {
				has_tech = concentrated_industry3
				has_tech = dispersed_industry3
			}
			controls_state = 112
			controls_state = 180
		}
		completion_reward = {
			add_offsite_building = {
				type = industrial_complex
				level = 2
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			112 = { set_state_category = metropolis }
			180 = { set_state_category = city }
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_modernize_the_countryside
		prerequisite = { focus = POR_finish_the_urban_electrification }
		icon = GFX_goal_generic_farm_tractor
		cost = 15
		x = 0
		y = 1
		relative_position_id = POR_finish_the_urban_electrification
		available = { 
			OR = {
				has_tech = concentrated_industry4
				has_tech = dispersed_industry4
			}
		}
		completion_reward = {
			add_stability = 0.04
			add_tech_bonus = {
				bonus = 1.5
				ahead_reduction = 1.5
				uses = 2
				category = industry
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			every_controlled_state = {
				limit = {
					OR = { 
						state = 181
						state = 795
					}
				}
				set_state_category = developed_rural
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_support_food_exporters
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	#Political - Historical/Authoritarian
	focus = {
		id = POR_continue_salazars_policies
		mutually_exclusive = { 
			focus = POR_unite_against_salazar
			focus = POR_restore_valiance_to_the_nation 
		}
		icon = GFX_focus_por_salazar
		cost = 6
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { 
					has_completed_focus = POR_unite_against_salazar
					has_completed_focus = POR_restore_valiance_to_the_nation
				}
			}
		}
		x = 57
		y = 0
		offset = {
			x = -13
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = POR_continue_salazars_policies
			}
		}
		completion_reward = {
			add_political_power = 25
			unlock_decision_tooltip = POR_support_the_spanish_nationalists_r56
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = POR_julio_botelho_moniz
			mark_focus_tree_layout_dirty = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_commit_to_internal_security
		prerequisite = { focus = POR_continue_salazars_policies }
		icon = GFX_focus_SWI_embrace_rote_drei
		cost = 8
		ai_will_do = { base = 5 }
		x = -3
		y = 1
		relative_position_id = POR_continue_salazars_policies
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_intelligence_agency = yes
					NOT = { has_done_agency_upgrade = upgrade_interrogation_techniques }
				}
				add_political_power = 20
				add_stability = 0.02
				custom_effect_tooltip = CHL_skip_one_line_tt 
				upgrade_intelligence_agency = upgrade_interrogation_techniques
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					NOT = { has_intelligence_agency = yes }
				}
				add_political_power = 20
				add_stability = 0.02
				custom_effect_tooltip = CHL_skip_one_line_tt 
				create_intelligence_agency = { name = "PVDE" }
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				add_political_power = 30
				add_stability = 0.02
				add_tech_bonus = {
					bonus = 1.0
					uses = 2
					category = decryption_tech
					category = computing_tech
				}
			}
			else = { 
				add_political_power = 50
				add_stability = 0.03 
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_expand_the_propaganda_ministry
		prerequisite = { focus = POR_commit_to_internal_security }
		icon = GFX_goal_generic_propaganda
		cost = 6
		ai_will_do = { base = 5 }
		x = -1
		y = 1
		relative_position_id = POR_commit_to_internal_security
		completion_reward = { 
			add_timed_idea = {
				idea = POR_expanding_the_propaganda_ministry
				days = 415
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_promote_portuguese_nationalism
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_silence_militant_revolutionaries
		prerequisite = { focus = POR_commit_to_internal_security }
		icon = GFX_focus_BRA_cohen_plan
		cost = 6
		ai_will_do = { base = 5 }
		x = 1
		y = 1
		relative_position_id = POR_commit_to_internal_security
		completion_reward = {
			add_timed_idea = {
				idea = POR_silencing_militant_revolutionaries
				days = 415
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_secretariat_of_national_information
		prerequisite = { focus = POR_silence_militant_revolutionaries }
		icon = GFX_goal_generic_army_professionalism
		cost = 10
		ai_will_do = { base = 5 }
		x = -1
		y = 1
		relative_position_id = POR_silence_militant_revolutionaries
		available = { 
			NOT = { 
				has_idea = POR_silencing_militant_revolutionaries
				has_idea = POR_expanding_the_propaganda_ministry 
			}
		}
		completion_reward = {
			add_political_power = 35
			if = {
				limit = { has_idea = POR_plant_the_seeds_for_a_modest_social_state_idea }
				swap_ideas = {
					remove_idea = POR_plant_the_seeds_for_a_modest_social_state_idea
					add_idea = POR_disgruntled_republicans2
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_disgruntled_republicans
					add_idea = POR_secretariat_of_national_information_idea
				}
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_promote_national_catholicism
		prerequisite = { focus = POR_silence_militant_revolutionaries }
		prerequisite = { focus = POR_expand_the_propaganda_ministry }
		icon = GFX_goal_PRU_conservative
		cost = 10
		ai_will_do = { base = 5 }
		x = -3
		y = 1
		relative_position_id = POR_silence_militant_revolutionaries
		completion_reward = {
			add_political_power = 50
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}	
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_joao_de_azevedo_coutinho
			custom_effect_tooltip = CHL_skip_one_line_tt
			show_ideas_tooltip = POR_manuel_goncalves_cerejeira
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_embrace_pluricontinentalism
			unlock_decision_tooltip = POR_seek_concordat_with_the_holy_see
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_support_sustained_development
		prerequisite = { focus = POR_continue_salazars_policies }
		icon = GFX_focus_generic_low_cost_housing
		cost = 8
		ai_will_do = { base = 5 }
		x = 3
		y = 1
		relative_position_id = POR_continue_salazars_policies
		completion_reward = {
			add_political_power = 20
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
			random_owned_controlled_state = {
				prioritize = { 112 }
				add_extra_state_shared_building_slots = 1
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_end_price_instability
		prerequisite = { focus = POR_support_sustained_development }
		icon = GFX_goal_generic_neutrality_focus
		cost = 6
		ai_will_do = { base = 5 }
		x = -1
		y = 1
		relative_position_id = POR_support_sustained_development
		completion_reward = {
			add_political_power = 20
			if = {
				limit = { has_idea = POR_disgruntled_republicans }
				swap_ideas = {
					remove_idea = POR_disgruntled_republicans
					add_idea = POR_plant_the_seeds_for_a_modest_social_state_idea
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_secretariat_of_national_information_idea
					add_idea = POR_disgruntled_republicans2
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_plant_the_seeds_for_a_modest_social_state
		prerequisite = { focus = POR_support_sustained_development }
		icon = GFX_goal_medicine
		cost = 8
		ai_will_do = { base = 5 }
		x = 1
		y = 1
		relative_position_id = POR_support_sustained_development
		completion_reward = {
			add_stability = 0.03
			unlock_decision_tooltip = POR_maternalistic_welfare
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_seek_urban_working_class_support
		prerequisite = { focus = POR_plant_the_seeds_for_a_modest_social_state }
		icon = GFX_goal_generic_land_seizure
		x = -1
		y = 1
		relative_position_id = POR_plant_the_seeds_for_a_modest_social_state
		cost = 8
		ai_will_do = { base = 40 }
		completion_reward = { 
			swap_ideas = {
				remove_idea = POR_austerity_measures
				add_idea = POR_austerity_measures2
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_support_moderate_labor_reforms
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_assistance_for_the_countryside
		prerequisite = { focus = POR_plant_the_seeds_for_a_modest_social_state }
		icon = GFX_focus_POL_agrarian_reform
		cost = 8
		ai_will_do = { base = 5 }
		x = 1
		y = 1
		relative_position_id = POR_plant_the_seeds_for_a_modest_social_state
		completion_reward = {
			add_political_power = 35
			add_popularity = {
				ideology = democratic
				popularity = -0.04
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_subsidize_rural_farming
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_plan_for_popular_education
		prerequisite = { focus = POR_assistance_for_the_countryside }
		icon = GFX_goal_pol_student_movement
		cost = 10
		x = 0
		y = 1
		relative_position_id = POR_assistance_for_the_countryside
		completion_reward = { 
			add_stability = 0.03
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
			add_research_slot = 1
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_invest_in_public_education 
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_found_the_portuguese_legionr56
		prerequisite = { focus = POR_continue_salazars_policies }
		icon = GFX_focus_por_portuguese_legion
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_continue_salazars_policies
		completion_reward = {
			add_political_power = 30
			add_ideas = por_portuguese_legion
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_tighten_ministerial_control
		prerequisite = { focus = POR_found_the_portuguese_legionr56 }
		icon = GFX_goal_generic_political_pressure
		cost = 10
		x = 0
		y = 2
		relative_position_id = POR_found_the_portuguese_legionr56
		available = {
			has_stability > 0.7
			neutrality > 0.85
		}
		completion_reward = {
			add_political_power = 90
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_sideline_restorationists
		prerequisite = { focus = POR_tighten_ministerial_control }
		icon = GFX_focus_rom_handle_king
		cost = 6
		ai_will_do = { base = 5 }
		x = -2
		y = 1
		relative_position_id = POR_tighten_ministerial_control
		available = {
			has_completed_focus = POR_secretariat_of_national_information
			has_completed_focus = POR_end_price_instability
		}
		completion_reward = { remove_ideas = POR_disgruntled_republicans2 }
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_consolidate_popular_support
		prerequisite = { focus = POR_tighten_ministerial_control }
		icon = GFX_goal_generic_friendship_with_church
		cost = 6
		ai_will_do = { base = 5 }
		x = 2
		y = 1
		relative_position_id = POR_tighten_ministerial_control
		completion_reward = {
			add_political_power = 35
			add_stability = 0.02
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_address_european_affairs
		prerequisite = { focus = POR_tighten_ministerial_control }
		icon = GFX_goal_generic_alliance
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_tighten_ministerial_control
		available = {
			OR = {
				has_war = yes
				any_country = {
					is_major = yes
					has_war_with = ENG
				}
				any_country = {
					is_major = yes
					has_war_with = GER
				}
			}
		}
		bypass = { has_completed_focus = POR_never_another_la_lys }

		completion_reward = { 
			unlock_decision_tooltip = POR_come_to_britains_aid
			custom_effect_tooltip = POR_address_european_affairs_tt
			custom_effect_tooltip = CHL_skip_one_line_tt
			complete_national_focus = POR_never_another_la_lys
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_never_another_la_lys_tt
			effect_tooltip = {
				if = {
					limit = { has_war_support < 0.3 }
					set_war_support = 0.3
				}
				else = { add_war_support = 0.05 }
				custom_effect_tooltip = CHL_skip_one_line_tt
				if = {
					limit = { has_idea = civilian_economy }
					add_ideas = partial_economic_mobilisation
				}
				else_if = {
					limit = { has_idea = low_economic_mobilisation }
					add_ideas = partial_economic_mobilisation
					custom_effect_tooltip = CHL_skip_one_line_tt
					random_owned_controlled_state = {
						prioritize = { 112 }
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					random_owned_controlled_state = {
						prioritize = { 112 }
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			} 
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ALLIANCE }
	}

	focus = {
		id = POR_expand_allied_trade
		prerequisite = { focus = POR_address_european_affairs }
		mutually_exclusive = { focus = POR_wartime_autarky }
		icon = GFX_goal_free_trade
		cost = 5
		x = 1
		y = 1
		relative_position_id = POR_address_european_affairs
		available = { 
			has_completed_focus = POR_end_price_instability
			is_in_faction = yes 
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = POR_austerity_measures2
				add_idea = POR_wartime_interdependence
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			if = {
				limit = { 
					is_in_faction_with = ENG 
					NOT = { is_in_faction_with = GER }
				}
				ENG = { add_to_tech_sharing_group = commonwealth_research }
				add_to_tech_sharing_group = commonwealth_research
			}  
			if = {
				limit = { 
					GER = { is_faction_leader = yes }
					is_in_faction_with = GER 
				}
				GER = { add_to_tech_sharing_group = axis_research }
				add_to_tech_sharing_group = axis_research
			}
			if = {
				limit = { 
					ITA = { is_faction_leader = yes }
					is_in_faction_with = ITA
				}
				ITA = { add_to_tech_sharing_group = ITA_program_for_scientific_cooperation }
				add_to_tech_sharing_group = ITA_program_for_scientific_cooperation
			}
			else = { custom_effect_tooltip = POR_expand_allied_trade_tt }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_wartime_autarky
		prerequisite = { focus = POR_address_european_affairs }
		mutually_exclusive = { focus = POR_expand_allied_trade }
		icon = GFX_focus_generic_central_planning
		cost = 5
		x = -1
		y = 1
		relative_position_id = POR_address_european_affairs
		completion_reward = {
			add_political_power = 25
			swap_ideas = {
				remove_idea = POR_austerity_measures2
				add_idea = POR_wartime_autarky_idea
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = synth_resources
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_international_and_state_defense_force
		prerequisite = { focus = POR_address_european_affairs }
		icon = GFX_focus_generic_secret_service_agency
		cost = 8
		x = -2
		y = 2
		relative_position_id = POR_address_european_affairs
		completion_reward = { add_ideas = POR_international_and_state_defense_force_idea }
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	focus = {
		id = POR_tighten_wartime_crackdowns
		prerequisite = { focus = POR_address_european_affairs }
		icon = GFX_focus_eng_move_to_secure_the_dominions
		cost = 8
		x = 2
		y = 2
		relative_position_id = POR_address_european_affairs
		completion_reward = {  
			if = {
				limit = {
					NOT = {
						has_idea = r56i_laws_security_balanced
						has_idea = r56i_laws_security_rights
						has_idea = r56i_laws_security_order
					}
				}
				add_political_power = 50
				add_stability = 0.06
				add_ideas = r56i_laws_security_order
			}
			else = { 
				add_political_power = 75
				add_stability = 0.06
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
	}

	#Political - Democratic/Communist
	focus = {
		id = POR_unite_against_salazar
		mutually_exclusive = { 
			focus = POR_continue_salazars_policies
			focus = POR_restore_valiance_to_the_nation 
		}
		icon = GFX_focus_generic_workers
		cost = 6
		ai_will_do = { base = 25 }
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { 
					has_completed_focus = POR_continue_salazars_policies
					has_completed_focus = POR_restore_valiance_to_the_nation
				}
			}
		}
		x = 46
		y = 0
		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_country_flag = POR_released_colonies_flag
			}
		}
		completion_reward = {
			add_political_power = 45
			swap_ideas = {
				remove_idea = POR_disgruntled_republicans
				add_idea = POR_unite_against_salazar_idea
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_unite_against_salazar_tt
			mark_focus_tree_layout_dirty = yes
			hidden_effect = {
				set_party_name = {
					ideology = communism
					long_name = POR_communism2_party_long
					name = POR_communism2_party
				}
				set_party_name = {
					ideology = democratic
					long_name = POR_communism2_party_long
					name = POR_communism2_party
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL   }
	}

	focus = {
		id = POR_seek_international_support
		prerequisite = { focus = POR_unite_against_salazar }
		icon = GFX_goal_mexico_united_mexican_unions
		cost = 6
		x = 2
		y = 1
		relative_position_id = POR_unite_against_salazar
		available = {
			NOT = { has_completed_focus = POR_storm_the_national_assembly }
		}
		completion_reward = {
			add_political_power = 20
			custom_effect_tooltip = POR_seek_international_support_tt
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_ally_anti_colonial_resistance
		prerequisite = { focus = POR_unite_against_salazar }
		icon = GFX_focus_GER_liberate_exploited_colonial_workers
		cost = 6
		x = -2
		y = 1
		relative_position_id = POR_unite_against_salazar
		available = {
			NOT = { has_completed_focus = POR_storm_the_national_assembly }
		}
		completion_reward = {
			add_political_power = 15
			add_war_support = 0.02
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_ally_anti_colonial_resistance_tt
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_storm_the_national_assembly
		prerequisite = { focus = POR_unite_against_salazar }
		icon = GFX_focus_GER_proletarian_solidarity
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_unite_against_salazar
		available = { neutrality < 0.55 }
		completion_reward = {
			country_event = portugal.45
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_storm_the_national_assembly_tt
			hidden_effect = {
				division_template = {
					name = "Brigada de Infantaria"
					division_names_group = POR_INF_01		
					is_locked = no
					template_counter = 3
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
				}
			}

		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_the_question_of_our_colonies
		prerequisite = { focus = POR_storm_the_national_assembly }
		icon = GFX_focus_ITA_corpo_volontari_della_liberta
		cost = 6
		x = -1
		y = 1
		relative_position_id = POR_storm_the_national_assembly
		available = { 
			has_war = no
			OR = {
				controls_state = 540
				controls_state = 544
				controls_state = 296
				controls_state = 721
				controls_state = 729
			} 
		}
		bypass = {
			has_war = no
			NOT = {
				controls_state = 540
				controls_state = 544
				controls_state = 296
				controls_state = 721
				controls_state = 729
			} 
		}
		completion_reward = { country_event = portugal.47 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_address_the_new_spain
		prerequisite = { focus = POR_storm_the_national_assembly }
		icon = GFX_goal_FRA_help_the_spanish_republicans
		cost = 6
		x = 1
		y = 1
		relative_position_id = POR_storm_the_national_assembly
		available = { 
			has_war = no
			has_global_flag = scw_over 
		}
		completion_reward = { country_event = portugal.51 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_consolidate_the_revolution
		prerequisite = { focus = POR_storm_the_national_assembly }
		icon = GFX_Goal_USA_Desegregated_military
		cost = 8
		x = -3
		y = 2
		relative_position_id = POR_storm_the_national_assembly
		available = { has_civil_war = no }
		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = communism
				popularity = 0.04
			}
			if = {
				limit = { has_dlc = "La Resistance" }
				custom_effect_tooltip = CHL_skip_one_line_tt
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = POR_alvaro_cunhal
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_general_directorate_of_security
		prerequisite = { focus = POR_consolidate_the_revolution }
		icon = GFX_goal_crush_resistance
		cost = 6
		x = 1
		y = 1
		relative_position_id = POR_consolidate_the_revolution
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
					NOT = { has_intelligence_agency = yes }
				}
				add_political_power = 30
				create_intelligence_agency = { name = "Direção-Geral de Segurança" }
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				add_political_power = 30
				add_tech_bonus = {
					bonus = 1.0
					uses = 2
					category = decryption_tech
					category = computing_tech
				}
			}
			else = { add_political_power = 45 }
			custom_effect_tooltip = CHL_skip_one_line_tt
			if = {
				limit = { has_idea = POR_NKVD_activity }
				remove_ideas = POR_NKVD_activity
				custom_effect_tooltip = CHL_skip_one_line_tt
			}
			add_ideas = POR_general_directorate_of_securty_idea
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_empower_socialist_organizations
		prerequisite = { 
			focus = POR_crush_reactionary_impedence
			focus = POR_general_directorate_of_security 
		}
		icon = GFX_focus_GER_support_the_proletarian_uprising
		cost = 7
		x = -1
		y = 1
		relative_position_id = POR_general_directorate_of_security
		available = {
			NOT = { has_completed_focus = POR_curb_political_militias }
		}
		completion_reward = {
			add_political_power = 30
			add_stability = -0.05
			add_war_support = 0.03
			custom_effect_tooltip = CHL_skip_one_line_tt
			if = {
				limit = { has_idea = POR_reactionary_resistance2 }
				swap_ideas = {
					remove_idea = POR_reactionary_resistance2
					add_idea = POR_reactionary_resistance3
				}
			}
			else_if = {
				limit = { has_idea = POR_reactionary_resistance3 }
				remove_ideas = POR_reactionary_resistance3
				custom_effect_tooltip = CHL_skip_one_line_tt
				add_timed_idea = {
					idea = POR_reactionary_resistance4
					days = 365
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_reactionary_resistance
					add_idea = POR_reactionary_resistance2
				}
			}
			unlock_decision_tooltip = POR_arm_anti_fascist_militias
			unlock_decision_tooltip = POR_tap_aligned_laborer_organizations
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_forge_a_prosperous_proletariat
		prerequisite = { 
			focus = POR_consolidate_the_revolution 
			focus = POR_pave_the_path_to_progress
		}
		icon = GFX_social_welfare
		cost = 8
		x = 3
		y = 1
		relative_position_id = POR_consolidate_the_revolution
		available = { has_completed_focus = POR_continue_the_public_works_r56 }
		completion_reward = {
			add_political_power = 45
			custom_effect_tooltip = POR_forge_a_prosperous_proletariat_tt
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = POR_the_question_of_nationalization_idea
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_escalate_the_industrialization
		prerequisite = { focus = POR_forge_a_prosperous_proletariat }
		icon = GFX_goal_generic_communist_economy
		cost = 8
		ai_will_do = { base = 99 }
		x = -1
		y = 1
		relative_position_id = POR_forge_a_prosperous_proletariat
		completion_reward = {
			if = {
				limit = { 
					has_idea = POR_transitioning_to_a_mixed_economy
				}
				swap_ideas = {
					remove_idea = POR_transitioning_to_a_mixed_economy
					add_idea = POR_slow_collectivization
				}
			}
			else_if = {
				limit = { 
					has_idea = POR_slow_collectivization
				}
				swap_ideas = {
					remove_idea = POR_slow_collectivization
					add_idea = POR_heavy_handed_central_planning
				}
			}
			else_if = {
				limit = { 
					has_idea = POR_heavy_handed_central_planning
				}
				swap_ideas = {
					remove_idea = POR_heavy_handed_central_planning
					add_idea = POR_looming_economic_disaster
				}
			}
			else_if = {
				limit = { 
					has_idea = POR_looming_economic_disaster
				}
				add_stability = -0.05
				random_owned_controlled_state = {
					prioritize = { 112 }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_the_question_of_nationalization_idea
					add_idea = POR_slow_collectivization
				}
			}
			unlock_decision_tooltip = POR_factory_recruitment_drive
			unlock_decision_tooltip = POR_direct_farmland_to_industrial_projects
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_prepare_for_a_war_of_annihilation
		prerequisite = { focus = POR_escalate_the_industrialization }
		icon = GFX_goal_generic_dictatorship_of_proletariat
		cost = 5
		ai_will_do = { base = 25 }
		x = 0
		y = 1
		relative_position_id = POR_escalate_the_industrialization
		bypass = { has_completed_focus = POR_never_another_la_lys }
		completion_reward = { 
			complete_national_focus = POR_never_another_la_lys
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_never_another_la_lys_tt
			effect_tooltip = {
				if = {
					limit = { has_war_support < 0.3 }
					set_war_support = 0.3
				}
				else = { add_war_support = 0.05 }
				custom_effect_tooltip = CHL_skip_one_line_tt
				if = {
					limit = { has_idea = civilian_economy }
					add_ideas = partial_economic_mobilisation
				}
				else_if = {
					limit = { has_idea = low_economic_mobilisation }
					add_ideas = partial_economic_mobilisation
					custom_effect_tooltip = CHL_skip_one_line_tt
					random_owned_controlled_state = {
						prioritize = { 112 }
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					random_owned_controlled_state = {
						prioritize = { 112 }
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			} 
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_restore_the_social_state
		prerequisite = { focus = POR_forge_a_prosperous_proletariat }
		icon = GFX_goal_medicine
		cost = 8
		ai_will_do = { base = 99 }
		x = 1
		y = 1
		relative_position_id = POR_forge_a_prosperous_proletariat
		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip	= POR_invest_in_public_education 
		}
	}

	focus = {
		id = POR_end_the_educational_abyss
		prerequisite = { focus = POR_restore_the_social_state }
		icon = GFX_focus_generic_socialist_science
		cost = 10
		x = 0
		y = 1
		relative_position_id = POR_restore_the_social_state
		completion_reward = {
			add_research_slot = 1 
			if = {
				limit = { has_idea = POR_reactionary_resistance2 }
				swap_ideas = {
					remove_idea = POR_reactionary_resistance2
					add_idea = POR_reactionary_resistance3
				}
			}
			else_if = {
				limit = { has_idea = POR_reactionary_resistance3 }
				remove_ideas = POR_reactionary_resistance3
				custom_effect_tooltip = CHL_skip_one_line_tt
				add_timed_idea = {
					idea = POR_reactionary_resistance4
					days = 365
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_reactionary_resistance
					add_idea = POR_reactionary_resistance2
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL   FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = POR_pave_the_path_to_progress
		prerequisite = { focus = POR_storm_the_national_assembly }
		icon = GFX_focus_ICE_embrace_the_workers_revolution
		cost = 8
		x = 3
		y = 2
		relative_position_id = POR_storm_the_national_assembly
		available = { has_civil_war = no }
		completion_reward = {
			add_political_power = 45
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.02
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_francisco_da_cunha_leal
			custom_effect_tooltip = CHL_skip_one_line_tt
			show_ideas_tooltip = POR_jaime_cortesao
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_advance_the_cause_for_equality
		prerequisite = { focus = POR_pave_the_path_to_progress }
		icon = GFX_focus_ARG_women_in_industry
		cost = 6
		x = -1
		y = 1
		relative_position_id = POR_pave_the_path_to_progress
		completion_reward = {
			add_political_power = 35
			set_rule = { can_generate_female_aces = yes }
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_maria_lamas
		}
		search_filters = { FOCUS_FILTER_POLITICAL   }
	}

	focus = {
		id = POR_crush_reactionary_impedence
		prerequisite = { focus = POR_consolidate_the_revolution }
		icon = GFX_focus_SOV_the_last_purge
		cost = 10
		x = -1
		y = 1
		relative_position_id = POR_consolidate_the_revolution
		available = {
			NOT = { has_completed_focus = POR_restore_civil_liberties }
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = POR_divided_revolution
				add_idea = POR_portugals_path_to_socialism
			}	
		}
		ai_will_do = {
			base = 5
			modifier = {
				factor = 4
				has_country_flag = TUR_SOV_prommised_support
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL  }
	}

	focus = {
		id = POR_towards_institutional_atheism
		prerequisite = { focus = POR_crush_reactionary_impedence }
		icon = GFX_focus_BRA_state_atheism
		cost = 8 
		x = -1
		y = 1
		relative_position_id = POR_crush_reactionary_impedence
		completion_reward = {
			add_political_power = 60
			unlock_decision_tooltip = POR_appropriate_church_riches
			unlock_decision_tooltip = POR_stamp_out_clergy_influence
		}
		ai_will_do = { base = 5 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_portugals_path_to_marxism_leninism
		prerequisite = { focus = POR_crush_reactionary_impedence }
		icon = GFX_postive_heroism
		cost = 10
		x = 0
		y = 2
		relative_position_id = POR_crush_reactionary_impedence
		available = { 
			neutrality < 0.2 
			democratic < 0.2
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = POR_portugals_path_to_socialism
				add_idea = POR_portugals_path_to_socialism2
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_bento_de_jesus_caraca
		}
		ai_will_do = { base = 5 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	
	focus = {
		id = POR_solidify_the_economic_reforms
		prerequisite = { focus = POR_portugals_path_to_marxism_leninism }
		icon = GFX_generic_goal_communist_reforms
		cost = 15
		x = -2
		y = 1
		relative_position_id = POR_portugals_path_to_marxism_leninism
		available = {
			custom_trigger_tooltip = {
				tooltip = POR_the_path_to_economic_progress_decisions_taken_6_or_greater_tt
				check_variable = { 
					POR_the_question_of_nationalization_decisions_taken = 6
					compare = greater_than_or_equals 
				}
			}
		}
		completion_reward = {
			add_political_power = 90
			add_stability = 0.05
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_upgrades_the_effects_of_all_the_question_of_nationalization_decisions_tt
			custom_effect_tooltip = CHL_skip_one_line_tt
			if = {
				limit = { has_idea = POR_the_question_of_nationalization_idea }
				swap_ideas = {
					remove_idea = POR_the_question_of_nationalization_idea
					add_idea = POR_socialist_market_economy
				}
			}
			else_if = { 
				limit = { has_idea = POR_slow_collectivization }
				swap_ideas = {
					remove_idea = POR_slow_collectivization
					add_idea = POR_the_portuguese_new_economic_policy
				}
			}
			else_if = { 
				limit = { has_idea = POR_heavy_handed_central_planning }
				swap_ideas = {
					remove_idea = POR_heavy_handed_central_planning
					add_idea = POR_the_red_industrial_revolution
				}
			}
			else_if = { 
				limit = { has_idea = POR_looming_economic_disaster }
				swap_ideas = {
					remove_idea = POR_looming_economic_disaster
					add_idea = POR_the_red_industrial_revolution
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_transitioning_to_a_mixed_economy
					add_idea = POR_socialist_market_economy
				}
			}
		}
		ai_will_do = { base = 99 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_the_iberian_social_revolution
		prerequisite = { focus = POR_portugals_path_to_marxism_leninism }
		icon = GFX_focus_GER_the_peoples_victory
		cost = 10
		x = 0
		y = 1
		relative_position_id = POR_portugals_path_to_marxism_leninism
		completion_reward = {
			add_political_power = 50
			unlock_decision_tooltip = POR_promote_revolutionary_artwork
			unlock_decision_tooltip = POR_suppress_symbols_of_portuguese_aristocracy
			custom_effect_tooltip = CHL_skip_one_line_tt
			swap_ideas = {
				remove_idea = POR_portugals_path_to_socialism2
				add_idea = POR_the_iberian_social_revolution
			}
		}
		ai_will_do = { base = 5 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_the_red_army_of_the_west
		prerequisite = { focus = POR_portugals_path_to_marxism_leninism }
		icon = GFX_focus_SOV_builder_of_the_red_army
		cost = 8
		x = 2
		y = 1
		relative_position_id = POR_portugals_path_to_marxism_leninism
		available = { has_government = communism }
		completion_reward = {
			add_ideas = POR_integrating_socialist_militias
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_the_red_army_of_the_west_tt
		}
		ai_will_do = { base = 5 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_covert_return_to_the_world_stage
		prerequisite = { focus = POR_portugals_path_to_marxism_leninism }
		mutually_exclusive = { focus = POR_diplomatic_pragmatism }
		icon = GFX_focus_ETH_callout_to_the_world
		cost = 4
		x = -1
		y = 2
		relative_position_id = POR_portugals_path_to_marxism_leninism
		available = {
			always = no
		}
		completion_reward = {
			add_war_support = 0.05
			set_rule = { can_create_factions = yes }
		}
		ai_will_do = {
			base = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_anti_colonial_action
		prerequisite = { focus = POR_covert_return_to_the_world_stage }
		icon = GFX_focus_ITA_corpo_volontari_della_liberta
		cost = 6
		x = -1
		y = 1
		relative_position_id = POR_covert_return_to_the_world_stage
		available = { 
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = POR_anti_colonial_action_trigger
				AND = {
					has_completed_focus = POR_the_question_of_our_colonies
					OR = {
						has_country_flag = POR_released_colonies_flag
						has_country_flag = POR_colonial_autonomy_flag
					}
				}	
			} 
		}
		completion_reward = {
		}
		ai_will_do = { base = 5 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_diplomatic_pragmatism
		prerequisite = { focus = POR_portugals_path_to_marxism_leninism }
		mutually_exclusive = { focus = POR_covert_return_to_the_world_stage }
		icon = GFX_focus_generic_national_security
		cost = 4
		x = 1
		y = 2
		relative_position_id = POR_portugals_path_to_marxism_leninism
		available = {
		}
		completion_reward = {
			add_stability = 0.03
			add_war_support = 0.03
			set_rule = { can_guarantee_other_ideologies = yes }
			custom_effect_tooltip = CHL_skip_one_line_tt
			add_ideas = POR_diplomatic_pragmatism
		}
		ai_will_do = {
			base = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_join_the_global_fight_against_fascism
		prerequisite = { 
			focus = POR_covert_return_to_the_world_stage 
			focus = POR_diplomatic_pragmatism
		}
		icon = GFX_focus_generic_anti_fascist_diplomacy
		cost = 8
		x = 1
		y = 1
		relative_position_id = POR_covert_return_to_the_world_stage
		available = { is_subject = no }
		will_lead_to_war_with = ITA
		will_lead_to_war_with = GER
		completion_reward = {
			add_war_support = 0.05
			if = {
				limit = {
					has_completed_focus = POR_diplomatic_pragmatism
					is_in_faction = no
					ENG = {
						is_faction_leader = yes
						NOT = { 
							has_government = fascism
							has_war_with = ROOT 
						}
					}
					any_country = {
						has_government = fascism
						has_war_with = ENG
					}
				}
				ENG = {
					country_event = { id = generic.2 }
					add_opinion_modifier = {
						target = ROOT
						modifier = TUR_valued_strategic_partners
					}
				}
			}
			else_if = {
				limit = {
					is_in_faction = no
					SOV = { 
						is_faction_leader = yes
						has_government = communism 
						NOT = { has_war_with = ROOT }
					}
					any_country = {
						has_government = fascism
						has_war_with = SOV
					}
				}
				SOV = {
					country_event = { id = generic.2 }
					add_opinion_modifier = {
						target = ROOT
						modifier = TUR_valued_strategic_partners
					}
				}
				
			}
			else = {
				every_country = {
					limit = {
						capital_scope = { is_on_continent = europe }
						has_government = fascism
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
							expire = 0
						}
					}
				}
			}
		}
		ai_will_do = { base = 2 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_peace_home_and_abroad
		prerequisite = { focus = POR_diplomatic_pragmatism }
		icon = GFX_focus_SWE_refuge_from_war
		cost = 6
		x = 1
		y = 1
		relative_position_id = POR_diplomatic_pragmatism
		available = { 
			is_subject = no
			always = no 
		}
		completion_reward = {
		}
		ai_will_do = {
			base = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_restore_civil_liberties
		prerequisite = { focus = POR_pave_the_path_to_progress }
		icon = GFX_goal_generic_trial
		cost = 10
		x = 1
		y = 1
		relative_position_id = POR_pave_the_path_to_progress
		available = {
			NOT = { has_completed_focus = POR_crush_reactionary_impedence }
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = POR_divided_revolution
				add_idea = POR_portugals_road_to_democracy
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_augusto_de_vasconcelos
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_restore_civil_liberties_tt
		}
		ai_will_do = { base = 10 }
		search_filters = { FOCUS_FILTER_POLITICAL  }
	}

	focus = {
		id = POR_curb_political_militias
		prerequisite = { focus = POR_restore_civil_liberties }
		icon = GFX_focus_generic_court
		cost = 7
		x = -1
		y = 1
		relative_position_id = POR_restore_civil_liberties
		available = {
			NOT = { has_completed_focus = POR_empower_socialist_organizations }
		}
		completion_reward = { 
			add_political_power = 30
			add_popularity = {
				ideology = communism
				popularity = -0.03
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			if = {
				limit = { has_idea = POR_reactionary_resistance2 }
				swap_ideas = {
					remove_idea = POR_reactionary_resistance2
					add_idea = POR_reactionary_resistance3
				}
			}
			else_if = {
				limit = { has_idea = POR_reactionary_resistance3 }
				remove_ideas = POR_reactionary_resistance3
				custom_effect_tooltip = CHL_skip_one_line_tt
				add_timed_idea = {
					idea = POR_reactionary_resistance4
					days = 365
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_reactionary_resistance
					add_idea = POR_reactionary_resistance2
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_unity_and_reconciliation
		prerequisite = { focus = POR_restore_civil_liberties }
		icon = GFX_focus_BRA_reach_out_to_military_dem
		cost = 8
		x =  1
		y = 1
		relative_position_id = POR_restore_civil_liberties
		completion_reward = {
			add_political_power = 40
			unlock_decision_tooltip = POR_call_for_reconciliation
			unlock_decision_tooltip = POR_foment_peace_with_the_church
		}
		search_filters = { FOCUS_FILTER_POLITICAL  }
	}

	focus = {
		id = POR_hold_fair_elections
		prerequisite = { focus = POR_restore_civil_liberties }
		icon = GFX_goal_generic_election
		cost = 10
		x = 0
		y = 2
		relative_position_id = POR_restore_civil_liberties
		available = { 
			has_country_flag = POR_loosen_censorship_policies_flag
			has_country_flag = POR_end_the_political_trials_flag 
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = POR_portugals_road_to_democracy
				add_idea = POR_hold_fair_elections_idea
			}
			if = {
				limit = { has_country_flag = POR_end_the_popular_front_flag }
				set_party_name = {
					ideology = communism
					long_name = POR_communism_party_long
					name = POR_communism_party
				}
				set_party_name = {
					ideology = democratic
					long_name = POR_democratic_party_long
					name = POR_democratic_party
				}
				custom_effect_tooltip = CHL_skip_one_line_tt
			}
			country_event = portugal.58
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_jaime_cortesao
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = POR_jose_manuel_sarmento_de_beires
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_accomodate_europes_balance_of_power
		prerequisite = { focus = POR_hold_fair_elections }
		icon = GFX_goal_generic_ban_extremism
		cost = 6
		x = -2
		y = 1
		relative_position_id = POR_hold_fair_elections
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			set_rule = { can_create_factions = yes }
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_come_to_britains_aid_dem
		}
		search_filters = { FOCUS_FILTER_ALLIANCE FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_restore_economic_stability
		prerequisite = { focus = POR_hold_fair_elections }
		icon = GFX_goal_generic_financial_markets
		cost = 8
		x = 2
		y = 1
		relative_position_id = POR_hold_fair_elections
		available = {
			custom_trigger_tooltip = {
				tooltip = POR_the_path_to_economic_progress_decisions_taken_4_or_greater_tt
				check_variable = { 
					POR_the_question_of_nationalization_decisions_taken = 4
					compare = greater_than_or_equals 
				}
			}
		}
		completion_reward = {
			custom_effect_tooltip = POR_upgrades_the_effects_of_all_the_question_of_nationalization_decisions_tt
			custom_effect_tooltip = CHL_skip_one_line_tt
			if = {
				limit = { has_idea = POR_the_question_of_nationalization_idea }
				swap_ideas = {
					remove_idea = POR_the_question_of_nationalization_idea
					add_idea = POR_portuguese_mixed_economy
				}
			}
			else_if = { 
				limit = { has_idea = POR_slow_collectivization }
				swap_ideas = {
					remove_idea = POR_slow_collectivization
					add_idea = POR_portuguese_mixed_economy
				}
			}
			else_if = { 
				limit = { has_idea = POR_heavy_handed_central_planning }
				swap_ideas = {
					remove_idea = POR_heavy_handed_central_planning
					add_idea = POR_democratic_collectivization
				}
			}
			else_if = { 
				limit = { has_idea = POR_looming_economic_disaster }
				swap_ideas = {
					remove_idea = POR_looming_economic_disaster
					add_idea = POR_democratic_collectivization
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_transitioning_to_a_mixed_economy
					add_idea = POR_portuguese_mixed_economy
				}
			}
		}
		ai_will_do = { base = 5 }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_modernize_the_junta_institutions
		prerequisite = { focus = POR_hold_fair_elections }
		icon = GFX_focus_generic_improve_the_administration
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_hold_fair_elections
		completion_reward = {
			add_stability = 0.05
			unlock_decision_tooltip = POR_create_a_constitutional_judiciary
			if = {
				limit = { 
					NOT = { has_country_flag = POR_released_colonies_flag }
				}
				unlock_decision_tooltip = POR_a_new_status_for_the_colonies
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL  }
	}

	focus = {
		id = POR_merit_above_ideology
		prerequisite = { focus = POR_modernize_the_junta_institutions }
		mutually_exclusive = { focus = POR_rehabilitate_the_armed_forces }
		icon = GFX_focus_GER_customs_union
		cost = 6
		x = 1
		y = 1
		relative_position_id = POR_modernize_the_junta_institutions
		completion_reward = {
			add_ideas = POR_restoring_the_portuguese_armed_forces
			custom_effect_tooltip = CHL_skip_one_line_tt
			every_army_leader = {
				add_planning = 1
				add_logistics = 1
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_expand_civil_amnesty
			unlock_decision_tooltip = POR_reintegrate_former_officers
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_rehabilitate_the_armed_forces
		prerequisite = { focus = POR_modernize_the_junta_institutions }
		mutually_exclusive = { focus = POR_merit_above_ideology }
		icon = GFX_focus_generic_military_mission
		cost = 6
		x = -1
		y = 1
		relative_position_id = POR_modernize_the_junta_institutions
		completion_reward = {
			add_ideas = POR_protectors_of_portuguese_democracy
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_demand_oaths_of_loyalty
			if = {
				limit = { has_government = communism }
				unlock_decision_tooltip = POR_clamp_down_on_anti_revolutionary_dissent
			}
			else = { unlock_decision_tooltip = POR_clamp_down_on_anti_democratic_leftists }
		
		}
		search_filters = { FOCUS_FILTER_POLITICAL  }
	}

	focus = {
		id = POR_maintain_the_fire
		prerequisite = { focus = POR_modernize_the_junta_institutions }
		icon = GFX_goal_cuba_support_the_confederation_of_cuban_workers
		cost = 8
		x = -2
		y = 2
		relative_position_id = POR_modernize_the_junta_institutions
		completion_reward = {
			add_political_power = 75
			add_popularity = {
				ideology = ROOT
				popularity = 0.05
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_maternalistic_welfare
			unlock_decision_tooltip = POR_subsidize_rural_farming
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_fortify_portuguese_democracy
		prerequisite = { focus = POR_modernize_the_junta_institutions }
		icon = GFX_goal_generic_democracy
		cost = 10
		x = 2
		y = 2
		relative_position_id = POR_modernize_the_junta_institutions
		available = {

		}
		completion_reward = {
			if = {
				limit = { has_government = communism }
				swap_ideas = {
					remove_idea = POR_hold_fair_elections_idea
					add_idea = POR_red_tinted_democracy
				}
			}
			else = {
				swap_ideas = {
					remove_idea = POR_hold_fair_elections_idea
					add_idea = POR_western_europes_model_democracy
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	#Political - Fascist/Monarchist
	focus = {
		id = POR_restore_valiance_to_the_nation
		mutually_exclusive = { 
			focus = POR_unite_against_salazar
			focus = POR_continue_salazars_policies
		}
		icon = GFX_goal_our_fate_is_our_own
		cost = 6
		ai_will_do = { base = 25 }
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { 
					has_completed_focus = POR_unite_against_salazar
					has_completed_focus = POR_continue_salazars_policies
				}
			}
		}
		x = 71
		y = 0
		offset = {
			x = -26
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = POR_restore_valiance_to_the_nation
			}
		}
		available = { always = no }
		completion_reward = {
			add_political_power = 35
			unlock_decision_tooltip = POR_antagonize_socialist_organizations
			custom_effect_tooltip = CHL_skip_one_line_tt
			swap_ideas = {
				add_idea = POR_the_battle_for_the_nation_fas
				remove_idea = POR_disgruntled_republicans
			}
			mark_focus_tree_layout_dirty = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_seek_foreign_intervention
		prerequisite = { focus = POR_restore_valiance_to_the_nation }
		icon = GFX_goal_molotov_ribbentrop_pact
		cost = 6
		x = -2
		y = 1
		relative_position_id = POR_restore_valiance_to_the_nation
		available = {
			NOT = { has_completed_focus = POR_unlatch_salazars_grip } 
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_seek_restorationist_support
		prerequisite = { focus = POR_restore_valiance_to_the_nation }
		icon = GFX_focus_generic_monarchy_1
		cost = 6
		x = 2
		y = 1
		relative_position_id = POR_restore_valiance_to_the_nation
		available = { 
			NOT = { has_completed_focus = POR_unlatch_salazars_grip } 
		}
		completion_reward = {
			add_political_power = 60
			unlock_decision_tooltip = POR_rally_the_monarchists_of_porto
			set_country_flag = POR_seek_restorationist_support_flag 
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_unlatch_salazars_grip
		prerequisite = { focus = POR_restore_valiance_to_the_nation }
		icon = GFX_focus_POL_riot_of_37
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_restore_valiance_to_the_nation
		available = { fascism > 0.3 }
		completion_reward = {
			swap_ideas = {
				remove_idea = POR_the_battle_for_the_nation_fas
				add_idea = POR_renewed_instability
			}
			if = {
				limit = { fascism > 0.6 }
				country_event = portugal.43		#Peaceful Coup Event
			}
			else = { country_event = portugal.44 }	#Civil War Event 
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_unlatch_salazars_grip_tt
			hidden_effect = {
				division_template = {
					name = "Divisão de Camisa Azul"		
					is_locked = no
					template_counter = 3
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					override_model = POR_militia_alt_2_entity
				}
				division_template = {
					name = "Brigada de Infantaria"
					division_names_group = POR_INF_01		
					is_locked = no
					template_counter = 3
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_integrate_the_blueshirts
		prerequisite = { focus = POR_unlatch_salazars_grip }
		icon = GFX_focus_POL_beck_ribbentrop
		cost = 8
		x = -4
		y = 1
		relative_position_id = POR_unlatch_salazars_grip
		available = { has_civil_war = no }
		completion_reward = { 
			swap_ideas = {
				remove_idea = POR_renewed_instability
				add_idea = POR_renewed_instability2
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_alberto_monsaraz
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_forge_a_cult_of_personality
		prerequisite = { focus = POR_integrate_the_blueshirts }
		icon = GFX_goal_generic_uprising
		cost = 8
		x = -2
		y = 1
		relative_position_id = POR_integrate_the_blueshirts
		completion_reward = { 
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_reinstitute_the_secret_police
		prerequisite = { focus = POR_integrate_the_blueshirts }
		icon = GFX_goal_generic_secret_documents
		cost = 10
		x = 0
		y = 1
		relative_position_id = POR_integrate_the_blueshirts
		completion_reward = {
			add_political_power = 25
			swap_ideas = {
				remove_idea = POR_renewed_instability2
				add_idea = POR_secret_police_crackdowns
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_purge_the_remaining_salazarists
		prerequisite = { focus = POR_reinstitute_the_secret_police }
		mutually_exclusive = { focus = POR_united_against_the_bolshevik_threat }
		icon = GFX_focus_CZE_german_puppet
		cost = 6
		x = 1
		y = 1
		relative_position_id = POR_reinstitute_the_secret_police
		completion_reward = {
			remove_ideas = POR_secret_police_crackdowns
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_united_against_the_bolshevik_threat
		prerequisite = { focus = POR_reinstitute_the_secret_police }
		mutually_exclusive = { focus = POR_purge_the_remaining_salazarists }
		icon = GFX_focus_generic_full_social_mobilization
		cost = 6
		x = -1
		y = 1
		relative_position_id = POR_reinstitute_the_secret_police
		completion_reward = {
			remove_ideas = POR_secret_police_crackdowns
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_end_the_austerity_measures
		prerequisite = { focus = POR_unlatch_salazars_grip }
		icon = GFX_goal_italy_autarky
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_unlatch_salazars_grip
		available = { 
			has_civil_war = no
			has_completed_focus = POR_continue_the_public_works_r56 
		}
		completion_reward = {
			add_political_power = 105
			add_stability = 0.05
			custom_effect_tooltip = CHL_skip_one_line_tt
			remove_ideas = POR_austerity_measures
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_revanchist_rearmament
		prerequisite = { focus = POR_end_the_austerity_measures }
		icon = GFX_goal_generic_factories_green
		cost = 5
		x = 2
		y = 1
		relative_position_id = POR_end_the_austerity_measures
		bypass = { has_completed_focus = POR_never_another_la_lys }
		completion_reward = { 
			complete_national_focus = POR_never_another_la_lys
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = POR_never_another_la_lys_tt
			effect_tooltip = {
				if = {
					limit = { has_war_support < 0.3 }
					set_war_support = 0.3
				}
				else = { add_war_support = 0.05 }
				custom_effect_tooltip = CHL_skip_one_line_tt
				if = {
					limit = { has_idea = civilian_economy }
					add_ideas = partial_economic_mobilisation
				}
				else_if = {
					limit = { has_idea = low_economic_mobilisation }
					add_ideas = partial_economic_mobilisation
					custom_effect_tooltip = CHL_skip_one_line_tt
					random_owned_controlled_state = {
						prioritize = { 112 }
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					random_owned_controlled_state = {
						prioritize = { 112 }
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			} 
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_heavy_handed_development
		prerequisite = { focus = POR_end_the_austerity_measures }
		icon = GFX_focus_generic_modernize_industry
		cost = 6
		x = -2
		y = 1
		relative_position_id = POR_end_the_austerity_measures
		completion_reward = {
			add_stability = 0.03
			unlock_decision_tooltip = POR_direct_farmland_to_industrial_projects
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = POR_draft_portugals_own_labor_charter
		prerequisite = { focus = POR_end_the_austerity_measures }
		icon = GFX_goal_QBC_clerical_fascism
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_end_the_austerity_measures
		completion_reward = { add_ideas = POR_portugals_own_labor_charter }
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_reforge_the_social_state
		prerequisite = { focus = POR_draft_portugals_own_labor_charter }
		icon = GFX_focus_SOV_breadbasket_of_the_union
		cost = 8
		x = -1
		y = 1
		relative_position_id = POR_draft_portugals_own_labor_charter
		completion_reward = {
			add_stability = 0.02
			add_popularity = {
				ideology = ROOT
				popularity = 0.03
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_maternalistic_welfare
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_eradicate_rural_illiteracy
		prerequisite = { focus = POR_reforge_the_social_state }
		icon = GFX_goal_generic_catholic_education
		cost = 10
		x = 0
		y = 1
		relative_position_id = POR_reforge_the_social_state
		completion_reward = { 
			add_stability = 0.03
			add_research_slot = 1
			custom_effect_tooltip = CHL_skip_one_line_tt 
			unlock_decision_tooltip = POR_invest_in_public_education
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_expand_support_for_fascist_trade_unions
		prerequisite = { focus = POR_draft_portugals_own_labor_charter }
		icon = GFX_focus_ITA_generic_fascist_workers
		cost = 8
		x = 1
		y = 1
		relative_position_id = POR_draft_portugals_own_labor_charter
		completion_reward = {
			add_political_power = 40
			add_popularity = {
				ideology = ROOT
				popularity = 0.03
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_factory_recruitment_drive
			unlock_decision_tooltip = POR_support_private_collectives
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_arm_fascist_labor_syndicates
		prerequisite = { focus = POR_expand_support_for_fascist_trade_unions }
		icon = GFX_focus_generic_fascist_propaganda
		cost = 10
		x = 0
		y = 1
		relative_position_id = POR_expand_support_for_fascist_trade_unions
		completion_reward = {
			add_political_power = 60
			swap_ideas = {
				remove_idea = POR_portugals_own_labor_charter
				add_idea = POR_portugals_own_labor_charter2
			} 
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_restore_the_empire
		prerequisite = { focus = POR_unlatch_salazars_grip }
		icon = GFX_focus_generic_monarchy_2
		cost = 8
		x = 4
		y = 1
		relative_position_id = POR_unlatch_salazars_grip
		available = { has_civil_war = no }
		completion_reward = {
			add_ideas = POR_king_duarte_nuno
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			set_party_name = {
			    ideology = neutrality
			    long_name = POR_monarchy_party_long
			    name = POR_monarchy_party
			}
			custom_effect_tooltip = CHL_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_joao_de_azevedo_coutinho
			hidden_effect = {
				create_country_leader = {		#This guy should probably go in the character file so we can promote instead, not high priority, maybe to-do.
					name = "Dom Duarte Nuno"
					picture = "gfx/leaders/POR/portrait_por_duarte_nuno.dds"
					expire = "1976.12.24"
					ideology = constitutional_monarchy
					traits = { constitutional_monarch_minor }
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_reenter_european_affairs
		prerequisite = { focus = POR_restore_the_empire }
		icon = GFX_goal_generic_demand_territory
		cost = 6
		x = 2
		y = 1
		relative_position_id = POR_restore_the_empire
		completion_reward = {
			add_political_power = 45
			set_rule = { can_create_factions = yes }
			set_rule = { can_send_volunteers = yes }
			custom_effect_tooltip = CHL_skip_one_line_tt
			unlock_decision_tooltip = POR_request_axis_membership
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ALLIANCE }
	}

	focus = {
		id = POR_reclaim_our_overseas_belongings
		prerequisite = { focus = POR_restore_the_empire }
		icon = GFX_focus_generic_annex_country
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_restore_the_empire
		completion_reward = {
			add_war_support = 0.1
			add_named_threat = { 
				threat = 3 
				name = POR_reclaim_our_overseas_belongings 
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_prepare_the_colonial_frontlines
		prerequisite = { focus = POR_reclaim_our_overseas_belongings }
		icon = GFX_goal_generic_jungle_warfare
		cost = 5
		x = -1
		y = 1
		relative_position_id = POR_reclaim_our_overseas_belongings
		available = {
			is_subject = no
			NOT = {
				ENG = { is_ally_with = POR }
			}
		}
		completion_reward = {
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_demolish_british_control_over_africa
		prerequisite = { focus = POR_prepare_the_colonial_frontlines }
		icon = GFX_focus_por_the_pink_map
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_prepare_the_colonial_frontlines
		available = {
			is_subject = no
			NOT = {
				ENG = { is_ally_with = POR }
			}
		}
		will_lead_to_war_with = ENG
		completion_reward = {
			add_named_threat = { 
				threat = 3
				name = POR_demolish_british_control_over_africa
			}
			effect_tooltip = {
				create_wargoal = {
					target = ENG
					type = take_state_focus
					expire = 0
				}
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						NOT = { is_ally_with = POR }
						any_controlled_state = {
							OR = {
								state = 771
								state = 545
								state = 770
							}
							
						}
					}
					POR = {
						create_wargoal = {
							target = PREV
							type = take_state_focus
							expire = 0
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_destabilize_brazil
		prerequisite = { focus = POR_reclaim_our_overseas_belongings }
		icon = GFX_focus_BRA_department_of_propaganda
		cost = 5
		x = 1
		y = 1
		relative_position_id = POR_reclaim_our_overseas_belongings
		available = {
			is_subject = no
			NOT = {
				BRA = { is_ally_with = POR }
			}
		}
		completion_reward = {
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = POR_avenge_the_1821_disaster
		prerequisite = { focus = POR_destabilize_brazil }
		icon = GFX_focus_por_recover_brazil
		cost = 8
		x = 0
		y = 1
		relative_position_id = POR_destabilize_brazil
		available = {
			is_subject = no
			NOT = {
				BRA = {
					is_ally_with = POR
				}
			}
		}
		will_lead_to_war_with = BRA
		completion_reward = {
			add_named_threat = { 
				threat = 4
				name = POR_avenge_the_1821_disaster
			}
			effect_tooltip = {
				create_wargoal = {
					target = BRA
					type = annex_everything
					expire = 0
				}
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						NOT = { is_ally_with = POR }
						any_controlled_state = {
							state = 500
						}
					}
					POR = {
						create_wargoal = {
							target = PREV
							type = annex_everything
							expire = 0
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
}